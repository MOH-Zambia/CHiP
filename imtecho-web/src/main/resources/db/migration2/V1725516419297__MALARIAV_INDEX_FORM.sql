with insert_into_medplat_form_master as (
	INSERT INTO medplat_form_master
	("uuid", form_name, form_code, current_version, state, created_by, created_on, modified_by, modified_on, menu_config_id)
	SELECT 
		'f46babfc-0ad9-4482-9333-e5234b1dfa46',
		'Malaria Index',
		'MALARIA_INDEX',
		'1',
		'ACTIVE',
		97104,
		now(),
		97104,
		now(),
		393
	ON CONFLICT (form_code)
	DO UPDATE 
	SET
		uuid=EXCLUDED."uuid",
		form_name=EXCLUDED.form_name,
		current_version=cast(cast(coalesce((select max(cast(medplat_form_version_history.version as integer)) from medplat_form_master inner join medplat_form_version_history on medplat_form_master.uuid  = medplat_form_version_history.form_master_uuid where medplat_form_master.form_code = EXCLUDED.form_code and medplat_form_version_history.version <> 'DRAFT'),'0') as integer) + 1 as text),
		state=EXCLUDED.state,
		created_by=EXCLUDED.created_by, 
		created_on=EXCLUDED.created_on, 
		modified_by=EXCLUDED.modified_by, 
		modified_on=EXCLUDED.modified_on, 
		menu_config_id=EXCLUDED.menu_config_id
	returning medplat_form_master.current_version
)
INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'75498e73-4421-b476-a7ab-90780f363727',
	'f46babfc-0ad9-4482-9333-e5234b1dfa46',
	'[{"type":"CARD","config":{"title":"Member Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"Screening Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"service_date","fieldName":"Service date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"reason_for_no_visit","fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sprayable_surface","fieldName":"Sprayable Surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_irs_conducted","fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"having_llin","fieldName":"LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"are_llin_hanging","fieldName":"Are LLIN hanging","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleep_under_llin","fieldName":"Sleep under LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"days_passed_of_diagnosis","fieldName":"Days since last diagnosis","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"where_evidence_is_seen","fieldName":"Where were you seen","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"were_you_referred","fieldName":"Referred to facility","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_showing_signs","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_dbs_collected","fieldName":"DBS collected?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_spot_result","fieldName":"Blood spot result","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_splot_value","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_visit_conducted","fieldName":"Was household visit conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"individuals_living","fieldName":"Number of people living in the household","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"non_sprayable_surface","fieldName":"Not sprayable surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"date_of_last_spray","fieldName":"Date of last spray","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"number_of_llins_hanging","fieldName":"No. of LLIN hanging","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleeping_in_sprayed_room","fieldName":"Sleeping in sprayed room","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_adhered_to_treatment","fieldName":"Adhered to treatement","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"day_of_treatment","fieldName":"Day of treatement","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"temperature","fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"went_to_referral_place","fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_showing_signs","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_experiencing_signs","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_exp_signs","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"MALARIA_INDEX":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":true,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":true,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LLIN":{"label":"Do you have LLIN","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Do you have LLIN","fieldKey":"having_llin","hasError":false,"isHidden":"false","showCard":true,"fieldName":"LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose the option","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","hasError":false,"showCard":true,"fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"gender","showContent":false,"displayValue":"Gender","errorMsgListKeys":[]},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","hasError":false,"showCard":true,"fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Religion","errorMsgListKeys":[]},"Memeber ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":true,"fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","hasError":false,"showCard":true,"fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"NRC Number","errorMsgListKeys":[]},"HIV Display":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","hasError":false,"showCard":true,"fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"HIV Display","errorMsgListKeys":[]},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":true,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Service date":{"label":"Service Date","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Service date","fieldKey":"service_date","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Service date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Service date","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minServiceDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Please enter service date","errorMsgListKeys":[]},"DBS collected?":{"label":"Was the dried blood spot (DBS) collected ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"DBS collected?","fieldKey":"was_dbs_collected","hasError":false,"isHidden":"false","showCard":true,"fieldName":"DBS collected?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","hasError":false,"showCard":true,"fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Marital Status","errorMsgListKeys":[]},"Are LLIN hanging":{"label":"Are LLIN hanging in the house","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Are LLIn hanging","fieldKey":"are_llin_hanging","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Are LLIN hanging","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.having_llin===true\"}]}}","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Blood spot value":{"label":"Blood spot value","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^\\d+$","tooltip":"Blood spot value","fieldKey":"blood_splot_value","isHidden":"false","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","maxLength":"3","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.blood_spot_result===''AVAILABLE''\"}]}}","placeholder":"Enter blood spot value","patternMessage":"Only numbers","requiredMessage":"Only numbers"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","hasError":false,"showCard":true,"fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Chronic Diseases","errorMsgListKeys":[]},"Sleep under LLIN":{"label":"Did you sleep under LLIN last night","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleep under LLIN","fieldKey":"sleep_under_llin","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sleep under LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.number_of_llins_hanging!==null\"}]}}","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Blood spot result":{"label":"Blood spot result","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Blood spot result","fieldKey":"blood_spot_result","isHidden":"false","fieldName":"Blood spot result","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.was_dbs_collected===true\"}]}}","optionsType":"staticOptions","placeholder":"--select--","staticOptions":"[{\"key\":\"ANALYSIS\",\"value\":\"Still being analysed\"},{\"key\":\"AVAILABLE\",\"value\":\"Available\"}]","requiredMessage":"Choose","additionalStaticOptionsRequired":"false"},"Day of treatement":{"label":"Which day of treatment is it?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Day of treatement","fieldKey":"day_of_treatment","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Day of treatement","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_adhered_to_treatment===true\"}]}}","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"ONE\",\"value\":\"DAY 1\"},{\"key\":\"TWO\",\"value\":\"DAY 2\"},{\"key\":\"THREE\",\"value\":\"DAY 3\"}]","requiredMessage":"Choose","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Sprayable Surface":{"label":"Sprayable Surface","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sprayable Surface","fieldKey":"sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sprayable Surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose surface","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Date of last spray":{"label":"Date of last spray","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Date of last spray","fieldKey":"date_of_last_spray","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Date of last spray","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"--select--","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minSprayDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Enter last spray date","errorMsgListKeys":[]},"No. of LLIN hanging":{"max":"999","min":"0","label":"How many LLIN are hanging","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of LLINS","fieldKey":"number_of_llins_hanging","hasError":false,"isHidden":"false","showCard":true,"fieldName":"No. of LLIN hanging","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.are_llin_hanging===true\"}]}}","placeholder":"Enter number of LLINS","showContent":false,"requiredMessage":"Enter number of LLINS","errorMsgListKeys":[]},"Temprature(Celcius)":{"label":"Temprature(Celcius)","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^\\d+$","tooltip":"Temprature","fieldKey":"temperature","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","maxLength":"4","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.where_evidence_is_seen===\\\"HFACILITY\\\"\"}]}}","placeholder":"Enter temprature","showContent":false,"patternMessage":"Correct","requiredMessage":"Only numbers","errorMsgListKeys":[]},"Where were you seen":{"label":"Where were you seen","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Where were you seen","fieldKey":"where_evidence_is_seen","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Where were you seen","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"HFACILITY\",\"value\":\"Health facility\"},{\"key\":\"CHW\",\"value\":\"CHP post\"}]","requiredMessage":"Choose facility","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Referred to facility":{"label":"Were you referred to the facility or hospital at the time you were found to have malaria at the facility ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Reffered to facility","fieldKey":"were_you_referred","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Referred to facility","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Adhered to treatement":{"label":"Has the patient adhered to the treatment ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Adhered to treatement","fieldKey":"patient_adhered_to_treatment","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Adhered to treatement","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Not sprayable surface":{"label":"Not sprayable surface","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Not sprayable surface","fieldKey":"non_sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Not sprayable surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"GRASS\",\"value\":\"Grass\"},{\"key\":\"GLASS\",\"value\":\"Glass\"},{\"key\":\"REEDS\",\"value\":\"Reeds\"},{\"key\":\"METAL\",\"value\":\"Metal\"},{\"key\":\"PLASTIC\",\"value\":\"Plastic\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Select surface","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Sleeping in sprayed room":{"label":"Are you sleeping in sprayed room?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleeping in sprayed room","fieldKey":"sleeping_in_sprayed_room","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sleeping in sprayed room","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Days since last diagnosis":{"max":"999","min":"0","label":"How many days have passed since the patient was diagnosed at the clinic ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Days since last diagnosis","fieldKey":"days_passed_of_diagnosis","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Days since last diagnosis","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Enter number of days","showContent":false,"requiredMessage":"Enter days since last diagnosis","errorMsgListKeys":[]},"Please mention other signs":{"label":"Please mention other signs","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please mention other signs","fieldKey":"other_showing_signs","isHidden":"false","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_showing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter signs","requiredMessage":"Enter here"},"Why was visit not conducted":{"label":"Why was visit not conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Why was visit not conducted","fieldKey":"reason_for_no_visit","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_visit_conducted\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"HOUSE_NOT_FOUND\",\"value\":\"Household not found\"},{\"key\":\"NO_MEMBER_FOUND\",\"value\":\"No household member found\"},{\"key\":\"REFUSAL\",\"value\":\"Refusal\"}]","requiredMessage":"Required","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","hasError":false,"showCard":true,"fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Last method of contraception","errorMsgListKeys":[]},"Was household visit conducted":{"label":"Was household visit conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was household visit conducted","fieldKey":"was_visit_conducted","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Was household visit conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Was household visit conducted","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"YES\"},{\"key\":\"false\",\"value\":\"NO\"}]","requiredMessage":"Was household visit conducted","errorMsgListKeys":[]},"Please specify other experience":{"label":"Please specify other experience","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please specify other experience","fieldKey":"other_exp_signs","isHidden":"false","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_experiencing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter other experience","requiredMessage":"Please specify other experience"},"LMP (Last Menstrual Period) date":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp_date","hasError":false,"showCard":true,"fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''F''\"},{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"LMP (Last Menstrual Period) date","errorMsgListKeys":[]},"Construction material of the walls":{"label":"Construction material of the walls","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Construction material of the walls","fieldKey":"sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Construction material of the walls","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose construction material","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Number of people living in the household":{"max":"999","min":"0","label":"Number of people living in the household","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of people living in the household","fieldKey":"individuals_living","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Number of people living in the household","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Enter people living in household","showContent":false,"requiredMessage":"Enter only number","errorMsgListKeys":[]},"Did you go to where you were referred to ?":{"label":"Did you go to where you were referred to ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Did you go to where you were referred to ?","fieldKey":"went_to_referral_place","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.were_you_referred===true\"}]}}","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Did you go to where you were referred to ?","errorMsgListKeys":[]},"Was IRS (Indoor Residual Spraying)  conducted":{"label":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","fieldKey":"was_irs_conducted","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Select","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select yes or no","errorMsgListKeys":[]},"Is the patient experiencing any of the following ?":{"label":"Is the patient experiencing any of the following ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient experiencing any of the following ?","fieldKey":"patient_experiencing_signs","isHidden":"false","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","staticOptions":"[{\"key\":\"VOMITING\",\"value\":\"Persistent or continuous vomiting\"},{\"key\":\"DIARRHEA\",\"value\":\"Severe Diarrhea\"},{\"key\":\"HYPOGLYCEMIA\",\"value\":\"Hypoglycemia or blackouts\"},{\"key\":\"DARKURINE\",\"value\":\"Dark urine\"},{\"key\":\"CONVULSIONS\",\"value\":\"Convulsions\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient experiencing any of the following ?","additionalStaticOptionsRequired":"false"},"Is the patient showing any of the following signs ?":{"label":"Is the patient showing any of the following signs ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient showing any of the following signs ?","fieldKey":"patient_showing_signs","isHidden":"false","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","staticOptions":"[{\"key\":\"CONFUSION\",\"value\":\"Confusion\"},{\"key\":\"UNCONSCIOUSNESS\",\"value\":\"Unconsciousness\"},{\"key\":\"ABREATHING\",\"value\":\"Abnormal breathing\"},{\"key\":\"ANEMIA\",\"value\":\"Anemia\"},{\"key\":\"DEALYEDREFIL\",\"value\":\"Delayed capillary refil\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient showing any of the following signs ?","additionalStaticOptionsRequired":"false"}}}',
	current_version,
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"malariaIndexDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1064","path":"$formData$.malariaIndexDetails","backendConfigPath":"$formData$.malariaIndexDetails"}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:583"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:599","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:584"}]',
	null,
	'{"formVariables":[{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n\nlet ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    $utilityData$.ageInYears = years;\n    console.log($utilityData$.ageInYears)\n});"},{"value":"minServiceDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinServiceDate","setterMethodCode":"(function setMinServiceDate() {\n\n\t$utilityData$.minServiceDate = $formData$.malariaIndexDetails.service_date ? moment($formData$.malariaIndexDetails.service_date) : moment().subtract(9, ''months'');\n\t\n});"},{"value":"minSprayDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinSprayDate","setterMethodCode":"(function setMinSprayDate() {\n\t$utilityData$.minSprayDate = moment().subtract(''years'', 2);\n});"}],"formMethods":[{"value":"setMultipleValuesInDropDown","code":"(function setMultipleValuesInDropDown() {\n    \n    if ($formData$.malariaIndexDetails.sprayable_surface) {\n        $formData$.malariaIndexDetails.sprayable_surface = $formData$.malariaIndexDetails.sprayable_surface.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.non_sprayable_surface) {\n        $formData$.malariaIndexDetails.non_sprayable_surface = $formData$.malariaIndexDetails.non_sprayable_surface.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.patient_showing_signs) {\n        $formData$.malariaIndexDetails.patient_showing_signs = $formData$.malariaIndexDetails.patient_showing_signs.split('','');\n    }\n\t\n\tif($formData$.malariaIndexDetails.patient_experiencing_signs){\n\t    $formData$.malariaIndexDetails.patient_experiencing_signs = $formData$.malariaIndexDetails.patient_experiencing_signs.split('','');\n\t}\n});"}],"formQueries":[{"value":"Get Member Details","queryCode":"get_member_details","params":"member_id","paramConfig":"{\"member_id\":\"$stateParams$.id\"}","query":"select im.unique_health_id,concat_ws('' '', im.first_name,im.middle_name,im.last_name) as member_name,im.dob,im.gender,lfvd.value as marital_status,im.religion,im.nrc_number,cast(age(current_date, im.dob) as text) as age,im.lmp,im.last_method_of_contraception,cast(im.additional_info as json)->> ''hivTest'' as hiv_status,\nim.chronic_disease from imt_member im inner join listvalue_field_value_detail lfvd on im.marital_status=lfvd.id inner join imt_family imf on im.family_id=imf.family_id where im.id=#member_id#;","response":"$infoData$.memberDetails","isResultArray":null,"successMessage":null,"failureMessage":"Member details not found","isResponseMandatory":null,"isField":null,"isPagination":false},{"value":"Get Malaria Index Details","queryCode":"get_malaria_index_details","params":"member_id","paramConfig":"{\"member_id\":\"$stateParams$.id\"}","query":"select \nmicd.service_date,\ncast(im.additional_info as json)->> ''indexCase'' as is_index_case,\nmicd.was_visit_conducted,\nmicd.sprayable_surface,\nmicd.individuals_living,\nmicd.non_sprayable_surface,\nmicd.was_irs_conducted,\nmicd.date_of_last_spray,\nmicd.having_llin,\nmicd.are_llin_hanging,\nmicd.number_of_llins_hanging,\nmicd.sleep_under_llin,\nmicd.sleeping_in_sprayed_room,\nmicd.days_passed_of_diagnosis,\nmicd.patient_adhered_to_treatment,\nmicd.day_of_treatment,\nmicd.where_evidence_is_seen,\nmicd.temperature,\nmicd.were_you_referred,\nmicd.went_to_referral_place,\nmicd.patient_showing_signs,\nmicd.patient_experiencing_signs,\nmicd.other_exp_signs,\nmicd.was_dbs_collected,\nmicd.other_showing_signs,\nmicd.blood_spot_result,\nmicd.blood_splot_value,\nmicd.member_id\n\nfrom imt_member im inner join malaria_index_case_details micd on im.id=micd.member_id\nwhere im.id=#member_id#;","response":"$formData$.malariaIndexDetails","isResultArray":null,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":null,"isPagination":false}]}',
	'[{"type":"FORM_QUERY","value":"Get Member Details"},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_QUERY","value":"Get Malaria Index Details"},{"type":"FORM_VARIABLE_SETTER","value":"minServiceDate"},{"type":"FORM_METHOD","value":"setMultipleValuesInDropDown"},{"type":"FORM_VARIABLE_SETTER","value":"minSprayDate"}]',
	'[{"queryCode":"update_malaria_index_Details","hasLoop":null,"queryPath":"$formData$.malariaIndexDetails","subQueries":[],"params":[{"key":"service_date","type":"FIELD","valueKey":"service_date"},{"key":"was_visit_conducted","type":"FIELD","valueKey":"was_visit_conducted"},{"key":"sprayable_surface","type":"FIELD","valueKey":"sprayable_surface"},{"key":"individuals_living","type":"FIELD","valueKey":"individuals_living"},{"key":"non_sprayable_surface","type":"FIELD","valueKey":"non_sprayable_surface"},{"key":"was_irs_conducted","type":"FIELD","valueKey":"was_irs_conducted"},{"key":"date_of_last_spray","type":"FIELD","valueKey":"date_of_last_spray"},{"key":"having_llin","type":"FIELD","valueKey":"having_llin"},{"key":"are_llin_hanging","type":"FIELD","valueKey":"are_llin_hanging"},{"key":"number_of_llins_hanging","type":"FIELD","valueKey":"number_of_llins_hanging"},{"key":"sleep_under_llin","type":"FIELD","valueKey":"sleep_under_llin"},{"key":"sleeping_in_sprayed_room","type":"FIELD","valueKey":"sleeping_in_sprayed_room"},{"key":"days_passed_of_diagnosis","type":"FIELD","valueKey":"days_passed_of_diagnosis"},{"key":"patient_adhered_to_treatment","type":"FIELD","valueKey":"patient_adhered_to_treatment"},{"key":"day_of_treatment","type":"FIELD","valueKey":"day_of_treatment"},{"key":"where_evidence_is_seen","type":"FIELD","valueKey":"where_evidence_is_seen"},{"key":"temperature","type":"FIELD","valueKey":"temperature"},{"key":"were_you_referred","type":"FIELD","valueKey":"were_you_referred"},{"key":"went_to_referral_place","type":"FIELD","valueKey":"went_to_referral_place"},{"key":"patient_showing_signs","type":"FIELD","valueKey":"patient_showing_signs"},{"key":"patient_experiencing_signs","type":"FIELD","valueKey":"patient_experiencing_signs"},{"key":"other_exp_signs","type":"FIELD","valueKey":"other_exp_signs"},{"key":"was_dbs_collected","type":"FIELD","valueKey":"was_dbs_collected"},{"key":"other_showing_signs","type":"FIELD","valueKey":"other_showing_signs"},{"key":"blood_spot_result","type":"FIELD","valueKey":"blood_spot_result"},{"key":"blood_splot_value","type":"FIELD","valueKey":"blood_splot_value"},{"key":"member_id","type":"META_DATA","valueKey":"$formData$.malariaIndexDetails.member_id"}],"isEventResource":null,"$$hashKey":"object:567","queryName":"Update malaria index details","query":"with updated_data as (\nupdate malaria_index_case_details\nset service_date=#service_date#,\nwas_visit_conducted=#was_visit_conducted#,\nsprayable_surface = #sprayable_surface#,\nindividuals_living =#individuals_living#,\nnon_sprayable_surface=#non_sprayable_surface#,\nwas_irs_conducted=#was_irs_conducted#,\ndate_of_last_spray=#date_of_last_spray#,\nhaving_llin=#having_llin#,\nare_llin_hanging=#are_llin_hanging#,\nnumber_of_llins_hanging=#number_of_llins_hanging#,\nsleep_under_llin = #sleep_under_llin#,\nsleeping_in_sprayed_room=#sleeping_in_sprayed_room#,\ndays_passed_of_diagnosis=#days_passed_of_diagnosis#,\npatient_adhered_to_treatment=#patient_adhered_to_treatment#,\nday_of_treatment=#day_of_treatment#,\nwhere_evidence_is_seen=#where_evidence_is_seen#,\ntemperature=#temperature#,\nwere_you_referred=#were_you_referred#,\nwent_to_referral_place = #went_to_referral_place#,\npatient_showing_signs = #patient_showing_signs#,\npatient_experiencing_signs=#patient_experiencing_signs#,\nother_exp_signs=#other_exp_signs#,\nwas_dbs_collected=#was_dbs_collected#,\nother_showing_signs=#other_showing_signs#,\nblood_spot_result=#blood_spot_result#,\nblood_splot_value=#blood_splot_value#,\nmodified_by = #loggedInUserId#,\nmodified_on = now()\nwhere member_id=#member_id#\nreturning malaria_index_case_details.id\n)\nselect id from updated_data;"}]'
FROM insert_into_medplat_form_master;


INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'9bcf6abc-79bb-8e5d-1f8d-efad0585e1db',
	'f46babfc-0ad9-4482-9333-e5234b1dfa46',
	'[{"type":"CARD","config":{"title":"Member Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"Screening Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"service_date","fieldName":"Service date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"reason_for_no_visit","fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sprayable_surface","fieldName":"Sprayable Surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_irs_conducted","fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"having_llin","fieldName":"LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"are_llin_hanging","fieldName":"Are LLIN hanging","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleep_under_llin","fieldName":"Sleep under LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"days_passed_of_diagnosis","fieldName":"Days since last diagnosis","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"where_evidence_is_seen","fieldName":"Where were you seen","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"were_you_referred","fieldName":"Referred to facility","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_showing_signs","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_dbs_collected","fieldName":"DBS collected?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_spot_result","fieldName":"Blood spot result","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_splot_value","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_visit_conducted","fieldName":"Was household visit conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"individuals_living","fieldName":"Number of people living in the household","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"non_sprayable_surface","fieldName":"Not sprayable surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"date_of_last_spray","fieldName":"Date of last spray","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"number_of_llins_hanging","fieldName":"No. of LLIN hanging","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleeping_in_sprayed_room","fieldName":"Sleeping in sprayed room","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_adhered_to_treatment","fieldName":"Adhered to treatement","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"day_of_treatment","fieldName":"Day of treatement","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"temperature","fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"went_to_referral_place","fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_showing_signs","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_experiencing_signs","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_exp_signs","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"MALARIA_INDEX":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":true,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":true,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LLIN":{"label":"Do you have LLIN","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Do you have LLIN","fieldKey":"having_llin","hasError":false,"isHidden":"false","showCard":true,"fieldName":"LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose the option","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","hasError":false,"showCard":true,"fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"gender","showContent":false,"displayValue":"Gender","errorMsgListKeys":[]},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","hasError":false,"showCard":true,"fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Religion","errorMsgListKeys":[]},"Memeber ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":true,"fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","hasError":false,"showCard":true,"fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"NRC Number","errorMsgListKeys":[]},"HIV Display":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","hasError":false,"showCard":true,"fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"HIV Display","errorMsgListKeys":[]},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":true,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Service date":{"label":"Service Date","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Service date","fieldKey":"service_date","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Service date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Service date","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minServiceDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Please enter service date","errorMsgListKeys":[]},"DBS collected?":{"label":"Was the dried blood spot (DBS) collected ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"DBS collected?","fieldKey":"was_dbs_collected","hasError":false,"isHidden":"false","showCard":true,"fieldName":"DBS collected?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","hasError":false,"showCard":true,"fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Marital Status","errorMsgListKeys":[]},"Are LLIN hanging":{"label":"Are LLIN hanging in the house","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Are LLIn hanging","fieldKey":"are_llin_hanging","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Are LLIN hanging","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.having_llin===true\"}]}}","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Blood spot value":{"label":"Blood spot value","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^\\d+$","tooltip":"Blood spot value","fieldKey":"blood_splot_value","isHidden":"false","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","maxLength":"3","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.blood_spot_result===''AVAILABLE''\"}]}}","placeholder":"Enter blood spot value","patternMessage":"Only numbers","requiredMessage":"Only numbers"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","hasError":false,"showCard":true,"fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Chronic Diseases","errorMsgListKeys":[]},"Sleep under LLIN":{"label":"Did you sleep under LLIN last night","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleep under LLIN","fieldKey":"sleep_under_llin","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sleep under LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.number_of_llins_hanging!==null\"}]}}","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Blood spot result":{"label":"Blood spot result","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Blood spot result","fieldKey":"blood_spot_result","isHidden":"false","fieldName":"Blood spot result","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.was_dbs_collected===true\"}]}}","optionsType":"staticOptions","placeholder":"--select--","staticOptions":"[{\"key\":\"ANALYSIS\",\"value\":\"Still being analysed\"},{\"key\":\"AVAILABLE\",\"value\":\"Available\"}]","requiredMessage":"Choose","additionalStaticOptionsRequired":"false"},"Day of treatement":{"label":"Which day of treatment is it?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Day of treatement","fieldKey":"day_of_treatment","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Day of treatement","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_adhered_to_treatment===true\"}]}}","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"ONE\",\"value\":\"DAY 1\"},{\"key\":\"TWO\",\"value\":\"DAY 2\"},{\"key\":\"THREE\",\"value\":\"DAY 3\"}]","requiredMessage":"Choose","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Sprayable Surface":{"label":"Sprayable Surface","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sprayable Surface","fieldKey":"sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sprayable Surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose surface","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Date of last spray":{"label":"Date of last spray","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Date of last spray","fieldKey":"date_of_last_spray","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Date of last spray","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"--select--","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minSprayDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Enter last spray date","errorMsgListKeys":[]},"No. of LLIN hanging":{"max":"999","min":"0","label":"How many LLIN are hanging","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of LLINS","fieldKey":"number_of_llins_hanging","hasError":false,"isHidden":"false","showCard":true,"fieldName":"No. of LLIN hanging","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.are_llin_hanging===true\"}]}}","placeholder":"Enter number of LLINS","showContent":false,"requiredMessage":"Enter number of LLINS","errorMsgListKeys":[]},"Temprature(Celcius)":{"label":"Temprature(Celcius)","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^\\d+$","tooltip":"Temprature","fieldKey":"temperature","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","maxLength":"4","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.where_evidence_is_seen===\\\"HFACILITY\\\"\"}]}}","placeholder":"Enter temprature","showContent":false,"patternMessage":"Correct","requiredMessage":"Only numbers","errorMsgListKeys":[]},"Where were you seen":{"label":"Where were you seen","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Where were you seen","fieldKey":"where_evidence_is_seen","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Where were you seen","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"HFACILITY\",\"value\":\"Health facility\"},{\"key\":\"CHW\",\"value\":\"CHP post\"}]","requiredMessage":"Choose facility","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Referred to facility":{"label":"Were you referred to the facility or hospital at the time you were found to have malaria at the facility ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Reffered to facility","fieldKey":"were_you_referred","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Referred to facility","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Adhered to treatement":{"label":"Has the patient adhered to the treatment ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Adhered to treatement","fieldKey":"patient_adhered_to_treatment","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Adhered to treatement","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Not sprayable surface":{"label":"Not sprayable surface","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Not sprayable surface","fieldKey":"non_sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Not sprayable surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"GRASS\",\"value\":\"Grass\"},{\"key\":\"GLASS\",\"value\":\"Glass\"},{\"key\":\"REEDS\",\"value\":\"Reeds\"},{\"key\":\"METAL\",\"value\":\"Metal\"},{\"key\":\"PLASTIC\",\"value\":\"Plastic\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Select surface","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Sleeping in sprayed room":{"label":"Are you sleeping in sprayed room?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleeping in sprayed room","fieldKey":"sleeping_in_sprayed_room","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sleeping in sprayed room","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Days since last diagnosis":{"max":"999","min":"0","label":"How many days have passed since the patient was diagnosed at the clinic ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Days since last diagnosis","fieldKey":"days_passed_of_diagnosis","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Days since last diagnosis","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Enter number of days","showContent":false,"requiredMessage":"Enter days since last diagnosis","errorMsgListKeys":[]},"Please mention other signs":{"label":"Please mention other signs","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please mention other signs","fieldKey":"other_showing_signs","isHidden":"false","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_showing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter signs","requiredMessage":"Enter here"},"Why was visit not conducted":{"label":"Why was visit not conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Why was visit not conducted","fieldKey":"reason_for_no_visit","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_visit_conducted\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"HOUSE_NOT_FOUND\",\"value\":\"Household not found\"},{\"key\":\"NO_MEMBER_FOUND\",\"value\":\"No household member found\"},{\"key\":\"REFUSAL\",\"value\":\"Refusal\"}]","requiredMessage":"Required","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","hasError":false,"showCard":true,"fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Last method of contraception","errorMsgListKeys":[]},"Was household visit conducted":{"label":"Was household visit conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was household visit conducted","fieldKey":"was_visit_conducted","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Was household visit conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Was household visit conducted","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"YES\"},{\"key\":\"false\",\"value\":\"NO\"}]","requiredMessage":"Was household visit conducted","errorMsgListKeys":[]},"Please specify other experience":{"label":"Please specify other experience","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please specify other experience","fieldKey":"other_exp_signs","isHidden":"false","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_experiencing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter other experience","requiredMessage":"Please specify other experience"},"LMP (Last Menstrual Period) date":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp_date","hasError":false,"showCard":true,"fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''F''\"},{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"LMP (Last Menstrual Period) date","errorMsgListKeys":[]},"Construction material of the walls":{"label":"Construction material of the walls","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Construction material of the walls","fieldKey":"sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Construction material of the walls","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose construction material","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Number of people living in the household":{"max":"999","min":"0","label":"Number of people living in the household","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of people living in the household","fieldKey":"individuals_living","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Number of people living in the household","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Enter people living in household","showContent":false,"requiredMessage":"Enter only number","errorMsgListKeys":[]},"Did you go to where you were referred to ?":{"label":"Did you go to where you were referred to ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Did you go to where you were referred to ?","fieldKey":"went_to_referral_place","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.were_you_referred===true\"}]}}","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Did you go to where you were referred to ?","errorMsgListKeys":[]},"Was IRS (Indoor Residual Spraying)  conducted":{"label":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","fieldKey":"was_irs_conducted","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Select","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select yes or no","errorMsgListKeys":[]},"Is the patient experiencing any of the following ?":{"label":"Is the patient experiencing any of the following ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient experiencing any of the following ?","fieldKey":"patient_experiencing_signs","isHidden":"false","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","staticOptions":"[{\"key\":\"VOMITING\",\"value\":\"Persistent or continuous vomiting\"},{\"key\":\"DIARRHEA\",\"value\":\"Severe Diarrhea\"},{\"key\":\"HYPOGLYCEMIA\",\"value\":\"Hypoglycemia or blackouts\"},{\"key\":\"DARKURINE\",\"value\":\"Dark urine\"},{\"key\":\"CONVULSIONS\",\"value\":\"Convulsions\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient experiencing any of the following ?","additionalStaticOptionsRequired":"false"},"Is the patient showing any of the following signs ?":{"label":"Is the patient showing any of the following signs ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient showing any of the following signs ?","fieldKey":"patient_showing_signs","isHidden":"false","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","staticOptions":"[{\"key\":\"CONFUSION\",\"value\":\"Confusion\"},{\"key\":\"UNCONSCIOUSNESS\",\"value\":\"Unconsciousness\"},{\"key\":\"ABREATHING\",\"value\":\"Abnormal breathing\"},{\"key\":\"ANEMIA\",\"value\":\"Anemia\"},{\"key\":\"DEALYEDREFIL\",\"value\":\"Delayed capillary refil\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient showing any of the following signs ?","additionalStaticOptionsRequired":"false"}}}',
	'DRAFT',
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"malariaIndexDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1064","path":"$formData$.malariaIndexDetails","backendConfigPath":"$formData$.malariaIndexDetails"}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:583"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:599","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:584"}]',
	null,
	'{"formVariables":[{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n\nlet ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    $utilityData$.ageInYears = years;\n    console.log($utilityData$.ageInYears)\n});"},{"value":"minServiceDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinServiceDate","setterMethodCode":"(function setMinServiceDate() {\n\n\t$utilityData$.minServiceDate = $formData$.malariaIndexDetails.service_date ? moment($formData$.malariaIndexDetails.service_date) : moment().subtract(9, ''months'');\n\t\n});"},{"value":"minSprayDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinSprayDate","setterMethodCode":"(function setMinSprayDate() {\n\t$utilityData$.minSprayDate = moment().subtract(''years'', 2);\n});"}],"formMethods":[{"value":"setMultipleValuesInDropDown","code":"(function setMultipleValuesInDropDown() {\n    \n    if ($formData$.malariaIndexDetails.sprayable_surface) {\n        $formData$.malariaIndexDetails.sprayable_surface = $formData$.malariaIndexDetails.sprayable_surface.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.non_sprayable_surface) {\n        $formData$.malariaIndexDetails.non_sprayable_surface = $formData$.malariaIndexDetails.non_sprayable_surface.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.patient_showing_signs) {\n        $formData$.malariaIndexDetails.patient_showing_signs = $formData$.malariaIndexDetails.patient_showing_signs.split('','');\n    }\n\t\n\tif($formData$.malariaIndexDetails.patient_experiencing_signs){\n\t    $formData$.malariaIndexDetails.patient_experiencing_signs = $formData$.malariaIndexDetails.patient_experiencing_signs.split('','');\n\t}\n});"}],"formQueries":[{"value":"Get Member Details","queryCode":"get_member_details","params":"member_id","paramConfig":"{\"member_id\":\"$stateParams$.id\"}","query":"select im.unique_health_id,concat_ws('' '', im.first_name,im.middle_name,im.last_name) as member_name,im.dob,im.gender,lfvd.value as marital_status,im.religion,im.nrc_number,cast(age(current_date, im.dob) as text) as age,im.lmp,im.last_method_of_contraception,cast(im.additional_info as json)->> ''hivTest'' as hiv_status,\nim.chronic_disease from imt_member im inner join listvalue_field_value_detail lfvd on im.marital_status=lfvd.id inner join imt_family imf on im.family_id=imf.family_id where im.id=#member_id#;","response":"$infoData$.memberDetails","isResultArray":null,"successMessage":null,"failureMessage":"Member details not found","isResponseMandatory":null,"isField":null,"isPagination":false},{"value":"Get Malaria Index Details","queryCode":"get_malaria_index_details","params":"member_id","paramConfig":"{\"member_id\":\"$stateParams$.id\"}","query":"select \nmicd.service_date,\ncast(im.additional_info as json)->> ''indexCase'' as is_index_case,\nmicd.was_visit_conducted,\nmicd.sprayable_surface,\nmicd.individuals_living,\nmicd.non_sprayable_surface,\nmicd.was_irs_conducted,\nmicd.date_of_last_spray,\nmicd.having_llin,\nmicd.are_llin_hanging,\nmicd.number_of_llins_hanging,\nmicd.sleep_under_llin,\nmicd.sleeping_in_sprayed_room,\nmicd.days_passed_of_diagnosis,\nmicd.patient_adhered_to_treatment,\nmicd.day_of_treatment,\nmicd.where_evidence_is_seen,\nmicd.temperature,\nmicd.were_you_referred,\nmicd.went_to_referral_place,\nmicd.patient_showing_signs,\nmicd.patient_experiencing_signs,\nmicd.other_exp_signs,\nmicd.was_dbs_collected,\nmicd.other_showing_signs,\nmicd.blood_spot_result,\nmicd.blood_splot_value,\nmicd.member_id\n\nfrom imt_member im inner join malaria_index_case_details micd on im.id=micd.member_id\nwhere im.id=#member_id#;","response":"$formData$.malariaIndexDetails","isResultArray":null,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":null,"isPagination":false}]}',
	'[{"type":"FORM_QUERY","value":"Get Member Details"},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_QUERY","value":"Get Malaria Index Details"},{"type":"FORM_VARIABLE_SETTER","value":"minServiceDate"},{"type":"FORM_METHOD","value":"setMultipleValuesInDropDown"},{"type":"FORM_VARIABLE_SETTER","value":"minSprayDate"}]',
	'[{"queryCode":"update_malaria_index_Details","hasLoop":null,"queryPath":"$formData$.malariaIndexDetails","subQueries":[],"params":[{"key":"service_date","type":"FIELD","valueKey":"service_date"},{"key":"was_visit_conducted","type":"FIELD","valueKey":"was_visit_conducted"},{"key":"sprayable_surface","type":"FIELD","valueKey":"sprayable_surface"},{"key":"individuals_living","type":"FIELD","valueKey":"individuals_living"},{"key":"non_sprayable_surface","type":"FIELD","valueKey":"non_sprayable_surface"},{"key":"was_irs_conducted","type":"FIELD","valueKey":"was_irs_conducted"},{"key":"date_of_last_spray","type":"FIELD","valueKey":"date_of_last_spray"},{"key":"having_llin","type":"FIELD","valueKey":"having_llin"},{"key":"are_llin_hanging","type":"FIELD","valueKey":"are_llin_hanging"},{"key":"number_of_llins_hanging","type":"FIELD","valueKey":"number_of_llins_hanging"},{"key":"sleep_under_llin","type":"FIELD","valueKey":"sleep_under_llin"},{"key":"sleeping_in_sprayed_room","type":"FIELD","valueKey":"sleeping_in_sprayed_room"},{"key":"days_passed_of_diagnosis","type":"FIELD","valueKey":"days_passed_of_diagnosis"},{"key":"patient_adhered_to_treatment","type":"FIELD","valueKey":"patient_adhered_to_treatment"},{"key":"day_of_treatment","type":"FIELD","valueKey":"day_of_treatment"},{"key":"where_evidence_is_seen","type":"FIELD","valueKey":"where_evidence_is_seen"},{"key":"temperature","type":"FIELD","valueKey":"temperature"},{"key":"were_you_referred","type":"FIELD","valueKey":"were_you_referred"},{"key":"went_to_referral_place","type":"FIELD","valueKey":"went_to_referral_place"},{"key":"patient_showing_signs","type":"FIELD","valueKey":"patient_showing_signs"},{"key":"patient_experiencing_signs","type":"FIELD","valueKey":"patient_experiencing_signs"},{"key":"other_exp_signs","type":"FIELD","valueKey":"other_exp_signs"},{"key":"was_dbs_collected","type":"FIELD","valueKey":"was_dbs_collected"},{"key":"other_showing_signs","type":"FIELD","valueKey":"other_showing_signs"},{"key":"blood_spot_result","type":"FIELD","valueKey":"blood_spot_result"},{"key":"blood_splot_value","type":"FIELD","valueKey":"blood_splot_value"},{"key":"member_id","type":"META_DATA","valueKey":"$formData$.malariaIndexDetails.member_id"}],"isEventResource":null,"$$hashKey":"object:567","queryName":"Update malaria index details","query":"with updated_data as (\nupdate malaria_index_case_details\nset service_date=#service_date#,\nwas_visit_conducted=#was_visit_conducted#,\nsprayable_surface = #sprayable_surface#,\nindividuals_living =#individuals_living#,\nnon_sprayable_surface=#non_sprayable_surface#,\nwas_irs_conducted=#was_irs_conducted#,\ndate_of_last_spray=#date_of_last_spray#,\nhaving_llin=#having_llin#,\nare_llin_hanging=#are_llin_hanging#,\nnumber_of_llins_hanging=#number_of_llins_hanging#,\nsleep_under_llin = #sleep_under_llin#,\nsleeping_in_sprayed_room=#sleeping_in_sprayed_room#,\ndays_passed_of_diagnosis=#days_passed_of_diagnosis#,\npatient_adhered_to_treatment=#patient_adhered_to_treatment#,\nday_of_treatment=#day_of_treatment#,\nwhere_evidence_is_seen=#where_evidence_is_seen#,\ntemperature=#temperature#,\nwere_you_referred=#were_you_referred#,\nwent_to_referral_place = #went_to_referral_place#,\npatient_showing_signs = #patient_showing_signs#,\npatient_experiencing_signs=#patient_experiencing_signs#,\nother_exp_signs=#other_exp_signs#,\nwas_dbs_collected=#was_dbs_collected#,\nother_showing_signs=#other_showing_signs#,\nblood_spot_result=#blood_spot_result#,\nblood_splot_value=#blood_splot_value#,\nmodified_by = #loggedInUserId#,\nmodified_on = now()\nwhere member_id=#member_id#\nreturning malaria_index_case_details.id\n)\nselect id from updated_data;"}]'
ON CONFLICT (form_master_uuid, "version")
DO UPDATE
SET
	form_master_uuid=EXCLUDED.form_master_uuid,
	template_config=EXCLUDED.template_config, 
	field_config=EXCLUDED.field_config, 
	"version"=EXCLUDED."version", 
	created_by=EXCLUDED.created_by,
	created_on=EXCLUDED.created_on,
	modified_by=EXCLUDED.modified_by,
	modified_on=EXCLUDED.modified_on,
	form_object=EXCLUDED.form_object,
	template_css=EXCLUDED.template_css,
	form_vm=EXCLUDED.form_vm,
	execution_sequence=EXCLUDED.execution_sequence,
	query_config=EXCLUDED.query_config;