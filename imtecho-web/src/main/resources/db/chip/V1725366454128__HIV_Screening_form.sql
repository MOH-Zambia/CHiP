with insert_into_medplat_form_master as (
	INSERT INTO medplat_form_master
	("uuid", form_name, form_code, current_version, state, created_by, created_on, modified_by, modified_on, menu_config_id)
	SELECT
		'a9db7638-5111-450a-8ed7-a3fba5bc8691',
		'HIV Screening',
		'HIV_SCREENING',
		'1',
		'ACTIVE',
		97104,
		now(),
		97104,
		now(),
		393
	ON CONFLICT (form_code)
	DO UPDATE
	SET
		uuid=EXCLUDED."uuid",
		form_name=EXCLUDED.form_name,
		current_version=cast(cast(coalesce((select max(cast(medplat_form_version_history.version as integer)) from medplat_form_master inner join medplat_form_version_history on medplat_form_master.uuid  = medplat_form_version_history.form_master_uuid where medplat_form_master.form_code = EXCLUDED.form_code and medplat_form_version_history.version <> 'DRAFT'),'0') as integer) + 1 as text),
		state=EXCLUDED.state,
		created_by=EXCLUDED.created_by,
		created_on=EXCLUDED.created_on,
		modified_by=EXCLUDED.modified_by,
		modified_on=EXCLUDED.modified_on,
		menu_config_id=EXCLUDED.menu_config_id
	returning medplat_form_master.current_version
)
INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'64c4c4f1-a508-4c8c-d6e0-b4b659c2071d',
	'a9db7638-5111-450a-8ed7-a3fba5bc8691',
	'[{"type":"CARD","config":{"title":"Member Information","size":"12","cssStyles":null,"cssClasses":"","isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp","fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_phone_no","fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_address","fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"immunisation_given","fieldName":"Immunization status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"HIV Screening","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"previous_hiv_test_result","fieldName":"Child HIV test done or not?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_mother_hiv_positive","fieldName":"Biological mother HIV status unkown ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_parent_dead","fieldName":"Child’s biological parents dead","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_has_tb_symptoms","fieldName":"Child TB symptoms","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_currently_on_art","fieldName":"Is the child currently on ART (Anti-Retroviral Therapy) ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"adherenceCounseling","fieldName":"Adherence Counseling","fieldType":"INFORMATION_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"text-info"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_art_enrollment_number","fieldName":"Child’s ART enrollment number","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_sick","fieldName":"Child sick more or admitted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_rashes","fieldName":"Child had frequent rashes or other skin problems","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"pus_near_ear","fieldName":"Child had pus coming from his or her ear","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"ever_told_hiv_positive","fieldName":"Healthcare provided told HIV+","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"receiving_art","fieldName":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"client_art_number","fieldName":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"reengageClient","fieldName":"Re-engage Client","fieldType":"INFORMATION_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"text-info"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"symptoms","fieldName":"Are you suffering with  cough, weight loss, fever, night sweats ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"private_parts_symptoms","fieldName":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"tested_for_hiv_in_12_months","fieldName":"Tested for HIV in last 12 months","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"exposed_to_hiv","fieldName":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unprotected_sex_in_last_6_months","fieldName":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"pregnant_or_breastfeeding","fieldName":"Is she pregnant or breastfeeding ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_test_result","fieldName":"HIV test result","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dontTestHiv","fieldName":"Don''t test for HIV","fieldType":"INFORMATION_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"text-info"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_place","fieldName":"Health Infrastructure","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"HIV_SCREENING":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":false,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":false,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LMP":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp","hasError":false,"showCard":false,"fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''Female''\",\"value2\":null,\"fieldName\":\"$infoData$.memberDetails.gender\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"BT\",\"value1\":\"9\",\"value2\":\"110\",\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"date","showContent":false,"displayValue":"LMP","errorMsgListKeys":[]},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","hasError":false,"showCard":false,"fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Gender","errorMsgListKeys":[]},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","displayValue":"Religion"},"Member ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":false,"fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"HIV Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","hasError":false,"showCard":false,"fieldName":"HIV Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"HIV Status","errorMsgListKeys":[]},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","hasError":false,"showCard":false,"fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"NRC Number","errorMsgListKeys":[]},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":false,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Family Address":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_address","hasError":false,"showCard":false,"fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Family Address","errorMsgListKeys":[]},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","hasError":false,"showCard":false,"fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Marital Status","errorMsgListKeys":[]},"HIV test result":{"label":"HIV (Human Immunodeficiency Viruses) test result","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_VARIABLE_SETTER\",\"value\":\"userHealthInfra\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.hivDetails","tooltip":"HIV (Human Immunodeficiency Viruses) test result","fieldKey":"hiv_test_result","isHidden":"false","fieldName":"HIV test result","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- select --","staticOptions":"[{\"value\":\"Positive (HIV +)\",\"key\":\"POSITIVE\"},{\"value\":\"Negative (HIV -)\",\"key\":\"NEGATIVE\"}]","requiredMessage":"Select option"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","hasError":false,"showCard":false,"fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Chronic Diseases","errorMsgListKeys":[]},"Family Phone No.":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_phone_no","hasError":false,"showCard":false,"fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Family Phone No.","errorMsgListKeys":[]},"Re-engage Client":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"reengageClient","fieldName":"Re-engage Client","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.receiving_art\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","isClickable":"false"},"Child TB symptoms":{"label":"Does the child have any TB symptoms including cough, fever, weight loss or night sweats ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Does the child have any TB symptoms including cough, fever, weight loss or night sweats ?","fieldKey":"child_has_tb_symptoms","isHidden":"false","fieldName":"Child TB symptoms","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Does the child have any TB symptoms including cough, fever, weight loss or night sweats ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Don''t test for HIV":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"dontTestHiv","fieldName":"Don''t test for HIV","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''NEGATIVE''\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.hiv_test_result\",\"queryCode\":null,\"expression\":null}]}}","isClickable":"false"},"Immunization status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"immunisation_given","hasError":false,"showCard":false,"fieldName":"Immunization status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Immunization status","errorMsgListKeys":[]},"Adherence Counseling":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"adherenceCounseling","fieldName":"Adherence Counseling","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.child_currently_on_art\",\"queryCode\":null,\"expression\":null}]}}","isClickable":"false"},"Health Infrastructure":{"label":"Health Infrastructure","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Health Infrastructure","fieldKey":"referral_place","isHidden":"false","fieldName":"Health Infrastructure","fieldType":"DROPDOWN","disability":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$utilityData$.disableHFList\",\"queryCode\":null,\"expression\":null}]}}","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.hiv_test_result\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"variableList","placeholder":"-- select --","variableList":"$utilityData$.healthInfraList","staticOptions":null,"requiredMessage":"Select health infrastructure","additionalStaticOptionsRequired":"false"},"Eligible for HIV test?":{"label":"Eligible for HIV (Human Immunodeficiency Viruses) test?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Eligible for HIV (Human Immunodeficiency Viruses) test?","fieldKey":"eligible_for_hiv","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Eligible for HIV test?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Eligible for HIV (Human Immunodeficiency Viruses) test?","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option","errorMsgListKeys":[]},"Not eligible for HIV msg":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"notEligibleTest","hasError":false,"showCard":false,"fieldName":"Not eligible for HIV msg","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"null","isClickable":"false","showContent":false,"errorMsgListKeys":[]},"Child HIV test done or not?":{"label":"Has the child ever had an HIV (Human Immunodeficiency Viruses) test?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Has the child ever had an HIV (Human Immunodeficiency Viruses) test?","fieldKey":"previous_hiv_test_result","isHidden":"false","fieldName":"Child HIV test done or not?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Has the child ever had an HIV (Human Immunodeficiency Viruses) test?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child sick more or admitted":{"label":"In the last 6 months, has this child been sick more than other childer or been admitted to hospital ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 6 months, has this child been sick more than other childer or been admitted to hospital ?","fieldKey":"child_sick","isHidden":"false","fieldName":"Child sick more or admitted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 6 months, has this child been sick more than other childer or been admitted to hospital ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select RDT status"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","hasError":false,"showCard":false,"fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"BT\",\"value1\":\"9\",\"value2\":\"110\",\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Last method of contraception","errorMsgListKeys":[]},"Healthcare provided told HIV+":{"label":"At any time in your life, have you ever been told by a healthcare provider that you are HIV (Human Immunodeficiency Viruses)+?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"At any time in your life, have you ever been told by a healthcare provider that you are HIV (Human Immunodeficiency Viruses)+?","fieldKey":"ever_told_hiv_positive","isHidden":"false","fieldName":"Healthcare provided told HIV+","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"At any time in your life, have you ever been told by a healthcare provider that you are HIV (Human Immunodeficiency Viruses)+?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child’s ART enrollment number":{"label":"Confirm child’s ART  (Anti-Retroviral Therapy) enrollment number","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Confirm child’s ART  (Anti-Retroviral Therapy) enrollment number","fieldKey":"child_art_enrollment_number","isHidden":"false","fieldName":"Child’s ART enrollment number","fieldType":"SHORT_TEXT","maxLength":"50","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.child_currently_on_art\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Child’s ART enrollment number","requiredMessage":"Enter ART enrollment number"},"Tested for HIV in last 12 months":{"label":"In the last 12 months, have you been tested for HIV (Human Immunodeficiency Viruses)","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 12 months, have you been tested for HIV (Human Immunodeficiency Viruses)","fieldKey":"tested_for_hiv_in_12_months","isHidden":"false","fieldName":"Tested for HIV in last 12 months","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.ever_told_hiv_positive\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 12 months, have you been tested for HIV (Human Immunodeficiency Viruses)","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child’s biological parents dead":{"label":"Are one or both of the child’s biological parents dead ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Are one or both of the child’s biological parents dead ?","fieldKey":"child_parent_dead","isHidden":"false","fieldName":"Child’s biological parents dead","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Are one or both of the child’s biological parents dead ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Is she pregnant or breastfeeding ?":{"label":"Is she pregnant or breastfeeding ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Is she pregnant or breastfeeding ?","fieldKey":"pregnant_or_breastfeeding","isHidden":"false","fieldName":"Is she pregnant or breastfeeding ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"''Female''\",\"value2\":null,\"fieldName\":\"$infoData$.memberDetails.gender\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is she pregnant or breastfeeding ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Biological mother HIV status unkown ?":{"label":"Is the child ‘s biological mother HIV + or is her HIV (Human Immunodeficiency Viruses) status unkown ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Is the child ‘s biological mother HIV + or is her HIV (Human Immunodeficiency Viruses) status unkown ?","fieldKey":"child_mother_hiv_positive","isHidden":"false","fieldName":"Biological mother HIV status unkown ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is the child ‘s biological mother HIV + or is her HIV (Human Immunodeficiency Viruses) status unkown ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child had pus coming from his or her ear":{"label":"Has this child had pus coming from his or her ear?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Has this child had pus coming from his or her ear?","fieldKey":"pus_near_ear","isHidden":"false","fieldName":"Child had pus coming from his or her ear","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Has this child had pus coming from his or her ear?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child had frequent rashes or other skin problems":{"label":"Has this child had frequent rashes or other skin problems ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Has this child had frequent rashes or other skin problems ?","fieldKey":"child_rashes","isHidden":"false","fieldName":"Child had frequent rashes or other skin problems","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Has this child had frequent rashes or other skin problems ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Is the child currently on ART (Anti-Retroviral Therapy) ?":{"label":"Is the child currently on ART (Anti-Retroviral Therapy) ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Is the child currently on ART (Anti-Retroviral Therapy) ?","fieldKey":"child_currently_on_art","isHidden":"false","fieldName":"Is the child currently on ART (Anti-Retroviral Therapy) ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is the child currently on ART (Anti-Retroviral Therapy) ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Are you currently receiving ART  (Anti-Retroviral Therapy) ?":{"label":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","fieldKey":"receiving_art","isHidden":"false","fieldName":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.ever_told_hiv_positive\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Are you suffering with  cough, weight loss, fever, night sweats ?":{"label":"Are you suffering with  cough, weight loss, fever, night sweats ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Are you suffering with  cough, weight loss, fever, night sweats ?","fieldKey":"symptoms","isHidden":"false","fieldName":"Are you suffering with  cough, weight loss, fever, night sweats ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Are you suffering with  cough, weight loss, fever, night sweats ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Do you have Sores, Blisters, Unusual discharge on your private parts ?":{"label":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","fieldKey":"private_parts_symptoms","isHidden":"false","fieldName":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling":{"label":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","fieldKey":"client_art_number","isHidden":"false","fieldName":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","fieldType":"SHORT_TEXT","maxLength":"50","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.receiving_art\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","requiredMessage":"Enter ART number"},"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing":{"label":"In the last 6 months, have you been exposed to HIV through a needle stick, injection or piercing ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing ?","fieldKey":"exposed_to_hiv","isHidden":"false","fieldName":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?":{"label":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV (Human Immunodeficiency Viruses) status you don’t know or was HIV (Human Immunodeficiency Viruses) positive ?","fieldKey":"unprotected_sex_in_last_6_months","isHidden":"false","fieldName":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV (Human Immunodeficiency Viruses) status you don’t know or was HIV (Human Immunodeficiency Viruses) positive ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"}}}',
	current_version,
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"hivDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1213","path":"$formData$.hivDetails","backendConfigPath":"$formData$.hivDetails"}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:1197"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1225","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:1198"}]',
	'label {
    white-space: normal !important;
    line-height: 1.75 !important;
}',
	'{"formVariables":[{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n\n    let ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = 0;\n    if (ageParts.length < 6) {\n        years = 0\n    }\n    else {\n        years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    }\n    $utilityData$.ageInYears = years;\n\t\n});"},{"value":"userHealthInfra","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setUserHealthInfra","setterMethodCode":"(function setUserHealthInfra() {\n    $utilityData$.userHealthInfra.user_hf = 16404;\n    $utilityData$.userHealthInfra.user_hf_name = ''Ndola district hospital'';\n if($utilityData$.userHealthInfra.user_hf && $utilityData$.userHealthInfra.user_hf_name\n && $formData$.hivDetails.hiv_test_result === ''POSITIVE'') {\n     $formData$.hivDetails.referral_place = $utilityData$.userHealthInfra.user_hf;\n     $utilityData$.disableHFList = true;\n }\n else {\n     $formData$.hivDetails.referral_place = null;\n }\n\t\n});"},{"value":"healthInfraList","type":"ARRAY","bindTo":"$utilityData$","setter":true,"setterMethodName":"setHealthInfraList","setterMethodCode":"(function setHealthInfraList() {\n\n\t/**\n\t* Setter method for $utilityData$.healthInfraList (ARRAY)\n\t* Please see example below on how to set the value\n\t* $utilityData$.healthInfraList = xxx;\n\t* You can use the available parameters\n\t*/\n\t\n});"},{"value":"disableHFList","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setDisableHFList","setterMethodCode":"(function setDisableHFList() {\n\n $utilityData$.disableHFList = false;\n\t\n});"}],"formMethods":[{"value":"setCounselMsgs","code":"(function setCounselMsgs() {\n    $formData$.hivDetails.adherenceCounseling = ''Offer adherence counseling to caregiver.''\n\t$formData$.hivDetails.dontTestHiv = ''Do not test for HIV (Human Immunodeficiency Viruses) unless new exposure risk.''\n\t$formData$.hivDetails.reengageClient = ''Re-engage client in ART (Anti-Retroviral Therapy).''\n\t$formData$.hivDetails.notEligibleTest = ''Client is not eligible for HIV (Human Immunodeficiency Viruses) test.''\n});"}],"formQueries":[{"value":"Fetch member details","queryCode":"fetch_mem_details","params":"memberId","paramConfig":"{\"memberId\":\"$stateParams$.id\"}","query":"with hof_det as (\nselect im.mobile_number \nfrom imt_member im\nwhere im.family_id = (select family_id from imt_member where id = #memberId#)\nand im.family_head\n)\nselect im.unique_health_id,\nconcat_ws('' '',im.first_name,im.middle_name,im.last_name) as member_name,\ncast(age(im.dob) as text) as age,\nim.dob,\ncase when im.gender = ''F'' then ''Female'' else ''Male'' end as gender,\t\nim.nrc_number,\n(select value from listvalue_field_value_detail where id = im.marital_status) as marital_status,\n(select value from listvalue_field_value_detail where cast(id as text) = imf.religion) as religion,\ncase when im.last_method_of_contraception = ''NATURAL_METHODS'' then ''Natural methods''\nwhen im.last_method_of_contraception = ''ORALPILLS'' or im.last_method_of_contraception = ''ORAL_PILLS'' then ''Oral pills''\nwhen im.last_method_of_contraception = ''IUCD5'' then ''IUCD 5 years''\nwhen im.last_method_of_contraception = ''IUCD10'' then ''IUCD 10 years''\nwhen im.last_method_of_contraception = ''STERILIZATION'' then ''Sterilization''\nwhen im.last_method_of_contraception = ''CONDOM'' then ''Condom''\nwhen im.last_method_of_contraception = ''MLSTR'' then ''Male sterilization''\nwhen im.last_method_of_contraception = ''CONTRA'' then ''Emergency Contraceptive Pills''\nwhen im.last_method_of_contraception = ''INJECTABLES'' then ''Injectables''\nwhen im.last_method_of_contraception = ''BARRIER_METHOD'' then ''Barrier Method''\nwhen im.last_method_of_contraception = ''CHHAYA'' then ''Chhaya''\nwhen im.last_method_of_contraception = ''ANTARA'' then ''Antara''\nelse im.last_method_of_contraception end as last_method_of_contraception,\nim.lmp,\ncast(im.additional_info as json)->> ''hivTest'' as hiv_status,\nim.chronic_disease,\nim.birth_cert_number,\nim.mother_name,\nim.birth_weight,\nim.weight,\nim.is_pregnant,\nim.last_delivery_date,\nim.immunisation_given,\ncast(im.additional_info as json)->> ''developmentalDelays'' as developmental_delay,\ncast(im.additional_info as json)->> ''lastServiceLongGate'' as last_service_date,\n(select mobile_number from hof_det) as family_phone_no,\nconcat_ws('' '',imf.house_number,imf.address1, imf.address2) as family_address\nfrom imt_member im \ninner join imt_family imf on imf.family_id = im.family_id    \nwhere im.id = #memberId#;\n","response":"$infoData$.memberDetails","isResultArray":null,"successMessage":null,"failureMessage":"Member not found.","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Fetch hiv details","queryCode":"fetch_hiv_details","params":"memberId","paramConfig":"{\"memberId\":\"$stateParams$.id\"}","query":"\nselect \nid,\nprevious_hiv_test_result,\nCASE WHEN hiv_test_result IS TRUE THEN ''POSITIVE'' WHEN hiv_test_result IS FALSE THEN ''NEGATIVE''\nELSE NULL end as hiv_test_result,\nchild_currently_on_art,\nchild_art_enrollment_number,\nchild_mother_hiv_positive,\nchild_parent_dead,\nchild_has_tb_symptoms,\nchild_sick,\nchild_rashes,\npus_near_ear,\neligible_for_hiv,\never_told_hiv_positive,\nreceiving_art,\nclient_art_number,\ntested_for_hiv_in_12_months,\nsymptoms,\nprivate_parts_symptoms,\nexposed_to_hiv,\nunprotected_sex_in_last_6_months,\npregnant_or_breastfeeding,\nreferral_place\nfrom rch_hiv_screening_master rhsm \nwhere member_id = #memberId#\norder by id desc limit 1;","response":"$formData$.hivDetails","isResultArray":null,"successMessage":null,"failureMessage":"HIV screening details not found.","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Get User Health Infra","queryCode":"get_user_health_infra","params":"userID","paramConfig":"{\"userID\":\"$loggedInUserId$\"}","query":"select uhi.health_infrastrucutre_id as user_hf, hid.name as user_hf_name\nfrom user_health_infrastructure uhi \ninner join health_infrastructure_details hid on hid.id = uhi.health_infrastrucutre_id  \nwhere uhi.user_id = #userID# and uhi.is_default = true;","response":"$utilityData$.userHealthInfra","isResultArray":null,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":null,"isPagination":false},{"value":"Get health infra","queryCode":"get_health_infra","params":"","paramConfig":"{}","query":"select  h.name , h.id,h.type as type from health_infrastructure_details h;\n","response":"$utilityData$.healthInfraList","isResultArray":true,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":true,"isPagination":false,"dropdownKey":"id","dropdownValue":"name","toVariable":true}]}',
	'[{"type":"FORM_QUERY","value":"Fetch member details"},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_QUERY","value":"Fetch hiv details"},{"type":"FORM_METHOD","value":"setCounselMsgs","continueIfFail":true},{"type":"FORM_QUERY","value":"Get User Health Infra","continueIfFail":true},{"type":"FORM_QUERY","value":"Get health infra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"disableHFList","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"userHealthInfra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"healthInfraList","continueIfFail":true}]',
	'[{"queryCode":"update_hiv_details","hasLoop":null,"queryPath":"$formData$.hivDetails","subQueries":[],"params":[{"key":"previous_hiv_test_result","type":"FIELD","valueKey":"previous_hiv_test_result"},{"key":"hiv_test_result","type":"FIELD","valueKey":"hiv_test_result"},{"key":"child_currently_on_art","type":"FIELD","valueKey":"child_currently_on_art"},{"key":"child_art_enrollment_number","type":"FIELD","valueKey":"child_art_enrollment_number"},{"key":"child_mother_hiv_positive","type":"FIELD","valueKey":"child_mother_hiv_positive"},{"key":"child_parent_dead","type":"FIELD","valueKey":"child_parent_dead"},{"key":"child_has_tb_symptoms","type":"FIELD","valueKey":"child_has_tb_symptoms"},{"key":"child_sick","type":"FIELD","valueKey":"child_sick"},{"key":"child_rashes","type":"FIELD","valueKey":"child_rashes"},{"key":"pus_near_ear","type":"FIELD","valueKey":"pus_near_ear"},{"key":"ever_told_hiv_positive","type":"FIELD","valueKey":"ever_told_hiv_positive"},{"key":"receiving_art","type":"FIELD","valueKey":"receiving_art"},{"key":"client_art_number","type":"FIELD","valueKey":"client_art_number"},{"key":"tested_for_hiv_in_12_months","type":"FIELD","valueKey":"tested_for_hiv_in_12_months"},{"key":"symptoms","type":"FIELD","valueKey":"symptoms"},{"key":"private_parts_symptoms","type":"FIELD","valueKey":"private_parts_symptoms"},{"key":"exposed_to_hiv","type":"FIELD","valueKey":"exposed_to_hiv"},{"key":"unprotected_sex_in_last_6_months","type":"FIELD","valueKey":"unprotected_sex_in_last_6_months"},{"key":"pregnant_or_breastfeeding","type":"FIELD","valueKey":"pregnant_or_breastfeeding"},{"key":"referral_place","type":"FIELD","valueKey":"referral_place"},{"key":"hiv_id","type":"META_DATA","valueKey":"$formData$.hivDetails.id"}],"isEventResource":null,"$$hashKey":"object:25400","queryName":"Update HIV Screening details","query":"with updata_data as (\nupdate rch_hiv_screening_master\nset \nprevious_hiv_test_result = #previous_hiv_test_result#,\nhiv_test_result = case when #hiv_test_result# = ''POSITIVE'' then true \nwhen #hiv_test_result# = ''NEGATIVE'' then false else null end,\nchild_currently_on_art = #child_currently_on_art#,\nchild_art_enrollment_number = #child_art_enrollment_number#,\nchild_mother_hiv_positive = #child_mother_hiv_positive#,\nchild_parent_dead = #child_parent_dead#,\nchild_has_tb_symptoms = #child_has_tb_symptoms#,\nchild_sick = #child_sick#,\nchild_rashes = #child_rashes#,\nmodified_by = #loggedInUserId#,\nmodified_on = now(),\npus_near_ear = #pus_near_ear#,\never_told_hiv_positive = #ever_told_hiv_positive#,\nreceiving_art = #receiving_art#,\nclient_art_number = #client_art_number#,\ntested_for_hiv_in_12_months = #tested_for_hiv_in_12_months#,\nsymptoms = #symptoms#,\nprivate_parts_symptoms = #private_parts_symptoms#,\nexposed_to_hiv = #exposed_to_hiv#,\nunprotected_sex_in_last_6_months = #unprotected_sex_in_last_6_months#,\npregnant_or_breastfeeding = #pregnant_or_breastfeeding#,\nreferral_place = #referral_place#\nwhere id = #hiv_id#\nreturning rch_hiv_screening_master.id\n)\n,update_preg_data as (\nupdate imt_member\nset is_pregnant = #pregnant_or_breastfeeding#\nwhere id = (select member_id from rch_hiv_screening_master where id = #hiv_id#))\nselect id from updata_data;"}]'
FROM insert_into_medplat_form_master;


INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'8358cf37-af87-8753-bb83-56c942747ebb',
	'a9db7638-5111-450a-8ed7-a3fba5bc8691',
	'[{"type":"CARD","config":{"title":"Member Information","size":"12","cssStyles":null,"cssClasses":"","isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp","fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_phone_no","fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_address","fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"immunisation_given","fieldName":"Immunization status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"HIV Screening","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"previous_hiv_test_result","fieldName":"Child HIV test done or not?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_mother_hiv_positive","fieldName":"Biological mother HIV status unkown ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_parent_dead","fieldName":"Child’s biological parents dead","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_has_tb_symptoms","fieldName":"Child TB symptoms","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_currently_on_art","fieldName":"Is the child currently on ART (Anti-Retroviral Therapy) ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"adherenceCounseling","fieldName":"Adherence Counseling","fieldType":"INFORMATION_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"text-info"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_art_enrollment_number","fieldName":"Child’s ART enrollment number","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_sick","fieldName":"Child sick more or admitted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"child_rashes","fieldName":"Child had frequent rashes or other skin problems","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"pus_near_ear","fieldName":"Child had pus coming from his or her ear","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"ever_told_hiv_positive","fieldName":"Healthcare provided told HIV+","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"receiving_art","fieldName":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"client_art_number","fieldName":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"reengageClient","fieldName":"Re-engage Client","fieldType":"INFORMATION_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"text-info"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"symptoms","fieldName":"Are you suffering with  cough, weight loss, fever, night sweats ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"private_parts_symptoms","fieldName":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"tested_for_hiv_in_12_months","fieldName":"Tested for HIV in last 12 months","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"exposed_to_hiv","fieldName":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unprotected_sex_in_last_6_months","fieldName":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"pregnant_or_breastfeeding","fieldName":"Is she pregnant or breastfeeding ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_test_result","fieldName":"HIV test result","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dontTestHiv","fieldName":"Don''t test for HIV","fieldType":"INFORMATION_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"text-info"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_place","fieldName":"Health Infrastructure","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"HIV_SCREENING":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":false,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":false,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LMP":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp","hasError":false,"showCard":false,"fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''Female''\",\"value2\":null,\"fieldName\":\"$infoData$.memberDetails.gender\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"BT\",\"value1\":\"9\",\"value2\":\"110\",\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"date","showContent":false,"displayValue":"LMP","errorMsgListKeys":[]},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","hasError":false,"showCard":false,"fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Gender","errorMsgListKeys":[]},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","displayValue":"Religion"},"Member ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":false,"fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"HIV Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","hasError":false,"showCard":false,"fieldName":"HIV Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"HIV Status","errorMsgListKeys":[]},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","hasError":false,"showCard":false,"fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"NRC Number","errorMsgListKeys":[]},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":false,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Family Address":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_address","hasError":false,"showCard":false,"fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Family Address","errorMsgListKeys":[]},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","hasError":false,"showCard":false,"fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Marital Status","errorMsgListKeys":[]},"HIV test result":{"label":"HIV (Human Immunodeficiency Viruses) test result","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_VARIABLE_SETTER\",\"value\":\"userHealthInfra\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.hivDetails","tooltip":"HIV (Human Immunodeficiency Viruses) test result","fieldKey":"hiv_test_result","isHidden":"false","fieldName":"HIV test result","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- select --","staticOptions":"[{\"value\":\"Positive (HIV +)\",\"key\":\"POSITIVE\"},{\"value\":\"Negative (HIV -)\",\"key\":\"NEGATIVE\"}]","requiredMessage":"Select option"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","hasError":false,"showCard":false,"fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Chronic Diseases","errorMsgListKeys":[]},"Family Phone No.":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_phone_no","hasError":false,"showCard":false,"fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Family Phone No.","errorMsgListKeys":[]},"Re-engage Client":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"reengageClient","fieldName":"Re-engage Client","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.receiving_art\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","isClickable":"false"},"Child TB symptoms":{"label":"Does the child have any TB symptoms including cough, fever, weight loss or night sweats ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Does the child have any TB symptoms including cough, fever, weight loss or night sweats ?","fieldKey":"child_has_tb_symptoms","isHidden":"false","fieldName":"Child TB symptoms","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Does the child have any TB symptoms including cough, fever, weight loss or night sweats ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Don''t test for HIV":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"dontTestHiv","fieldName":"Don''t test for HIV","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''NEGATIVE''\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.hiv_test_result\",\"queryCode\":null,\"expression\":null}]}}","isClickable":"false"},"Immunization status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"immunisation_given","hasError":false,"showCard":false,"fieldName":"Immunization status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Immunization status","errorMsgListKeys":[]},"Adherence Counseling":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"adherenceCounseling","fieldName":"Adherence Counseling","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.child_currently_on_art\",\"queryCode\":null,\"expression\":null}]}}","isClickable":"false"},"Health Infrastructure":{"label":"Health Infrastructure","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Health Infrastructure","fieldKey":"referral_place","isHidden":"false","fieldName":"Health Infrastructure","fieldType":"DROPDOWN","disability":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$utilityData$.disableHFList\",\"queryCode\":null,\"expression\":null}]}}","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.hiv_test_result\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"variableList","placeholder":"-- select --","variableList":"$utilityData$.healthInfraList","staticOptions":null,"requiredMessage":"Select health infrastructure","additionalStaticOptionsRequired":"false"},"Eligible for HIV test?":{"label":"Eligible for HIV (Human Immunodeficiency Viruses) test?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Eligible for HIV (Human Immunodeficiency Viruses) test?","fieldKey":"eligible_for_hiv","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Eligible for HIV test?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Eligible for HIV (Human Immunodeficiency Viruses) test?","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option","errorMsgListKeys":[]},"Not eligible for HIV msg":{"events":"null","ngModel":"$formData$.hivDetails","fieldKey":"notEligibleTest","hasError":false,"showCard":false,"fieldName":"Not eligible for HIV msg","fieldType":"INFORMATION_TEXT","disability":"null","requirable":"null","visibility":"null","isClickable":"false","showContent":false,"errorMsgListKeys":[]},"Child HIV test done or not?":{"label":"Has the child ever had an HIV (Human Immunodeficiency Viruses) test?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Has the child ever had an HIV (Human Immunodeficiency Viruses) test?","fieldKey":"previous_hiv_test_result","isHidden":"false","fieldName":"Child HIV test done or not?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Has the child ever had an HIV (Human Immunodeficiency Viruses) test?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child sick more or admitted":{"label":"In the last 6 months, has this child been sick more than other childer or been admitted to hospital ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 6 months, has this child been sick more than other childer or been admitted to hospital ?","fieldKey":"child_sick","isHidden":"false","fieldName":"Child sick more or admitted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 6 months, has this child been sick more than other childer or been admitted to hospital ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select RDT status"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","hasError":false,"showCard":false,"fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"BT\",\"value1\":\"9\",\"value2\":\"110\",\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Last method of contraception","errorMsgListKeys":[]},"Healthcare provided told HIV+":{"label":"At any time in your life, have you ever been told by a healthcare provider that you are HIV (Human Immunodeficiency Viruses)+?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"At any time in your life, have you ever been told by a healthcare provider that you are HIV (Human Immunodeficiency Viruses)+?","fieldKey":"ever_told_hiv_positive","isHidden":"false","fieldName":"Healthcare provided told HIV+","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"At any time in your life, have you ever been told by a healthcare provider that you are HIV (Human Immunodeficiency Viruses)+?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child’s ART enrollment number":{"label":"Confirm child’s ART  (Anti-Retroviral Therapy) enrollment number","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Confirm child’s ART  (Anti-Retroviral Therapy) enrollment number","fieldKey":"child_art_enrollment_number","isHidden":"false","fieldName":"Child’s ART enrollment number","fieldType":"SHORT_TEXT","maxLength":"50","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.child_currently_on_art\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Child’s ART enrollment number","requiredMessage":"Enter ART enrollment number"},"Tested for HIV in last 12 months":{"label":"In the last 12 months, have you been tested for HIV (Human Immunodeficiency Viruses)","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 12 months, have you been tested for HIV (Human Immunodeficiency Viruses)","fieldKey":"tested_for_hiv_in_12_months","isHidden":"false","fieldName":"Tested for HIV in last 12 months","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.ever_told_hiv_positive\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 12 months, have you been tested for HIV (Human Immunodeficiency Viruses)","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child’s biological parents dead":{"label":"Are one or both of the child’s biological parents dead ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Are one or both of the child’s biological parents dead ?","fieldKey":"child_parent_dead","isHidden":"false","fieldName":"Child’s biological parents dead","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Are one or both of the child’s biological parents dead ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Is she pregnant or breastfeeding ?":{"label":"Is she pregnant or breastfeeding ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Is she pregnant or breastfeeding ?","fieldKey":"pregnant_or_breastfeeding","isHidden":"false","fieldName":"Is she pregnant or breastfeeding ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"''Female''\",\"value2\":null,\"fieldName\":\"$infoData$.memberDetails.gender\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is she pregnant or breastfeeding ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Biological mother HIV status unkown ?":{"label":"Is the child ‘s biological mother HIV + or is her HIV (Human Immunodeficiency Viruses) status unkown ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Is the child ‘s biological mother HIV + or is her HIV (Human Immunodeficiency Viruses) status unkown ?","fieldKey":"child_mother_hiv_positive","isHidden":"false","fieldName":"Biological mother HIV status unkown ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is the child ‘s biological mother HIV + or is her HIV (Human Immunodeficiency Viruses) status unkown ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child had pus coming from his or her ear":{"label":"Has this child had pus coming from his or her ear?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Has this child had pus coming from his or her ear?","fieldKey":"pus_near_ear","isHidden":"false","fieldName":"Child had pus coming from his or her ear","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Has this child had pus coming from his or her ear?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Child had frequent rashes or other skin problems":{"label":"Has this child had frequent rashes or other skin problems ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Has this child had frequent rashes or other skin problems ?","fieldKey":"child_rashes","isHidden":"false","fieldName":"Child had frequent rashes or other skin problems","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Has this child had frequent rashes or other skin problems ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Is the child currently on ART (Anti-Retroviral Therapy) ?":{"label":"Is the child currently on ART (Anti-Retroviral Therapy) ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Is the child currently on ART (Anti-Retroviral Therapy) ?","fieldKey":"child_currently_on_art","isHidden":"false","fieldName":"Is the child currently on ART (Anti-Retroviral Therapy) ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.previous_hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.hiv_test_result\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is the child currently on ART (Anti-Retroviral Therapy) ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Are you currently receiving ART  (Anti-Retroviral Therapy) ?":{"label":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","fieldKey":"receiving_art","isHidden":"false","fieldName":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.ever_told_hiv_positive\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"15\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Are you currently receiving ART  (Anti-Retroviral Therapy) ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Are you suffering with  cough, weight loss, fever, night sweats ?":{"label":"Are you suffering with  cough, weight loss, fever, night sweats ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Are you suffering with  cough, weight loss, fever, night sweats ?","fieldKey":"symptoms","isHidden":"false","fieldName":"Are you suffering with  cough, weight loss, fever, night sweats ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Are you suffering with  cough, weight loss, fever, night sweats ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Do you have Sores, Blisters, Unusual discharge on your private parts ?":{"label":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","fieldKey":"private_parts_symptoms","isHidden":"false","fieldName":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Do you have Sores, Blisters, Unusual discharge on your private parts ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling":{"label":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","events":"null","ngModel":"$formData$.hivDetails","tooltip":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","fieldKey":"client_art_number","isHidden":"false","fieldName":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","fieldType":"SHORT_TEXT","maxLength":"50","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.receiving_art\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Record client’s ART (Anti-Retroviral Therapy) number and offer counseling","requiredMessage":"Enter ART number"},"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing":{"label":"In the last 6 months, have you been exposed to HIV through a needle stick, injection or piercing ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing ?","fieldKey":"exposed_to_hiv","isHidden":"false","fieldName":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 6 months, have you been exposed to HIV (Human Immunodeficiency Viruses) through a needle stick, injection or piercing ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?":{"label":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?","events":"null","ngModel":"$formData$.hivDetails","tooltip":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV (Human Immunodeficiency Viruses) status you don’t know or was HIV (Human Immunodeficiency Viruses) positive ?","fieldKey":"unprotected_sex_in_last_6_months","isHidden":"false","fieldName":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV status you don’t know or was HIV positive ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.hivDetails.tested_for_hiv_in_12_months\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"In the last 6 months, have you had unprotected sex without a condom with someone whose HIV (Human Immunodeficiency Viruses) status you don’t know or was HIV (Human Immunodeficiency Viruses) positive ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"}}}',
	'DRAFT',
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"hivDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1213","path":"$formData$.hivDetails","backendConfigPath":"$formData$.hivDetails"}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:1197"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1225","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:1198"}]',
	'label {
    white-space: normal !important;
    line-height: 1.75 !important;
}',
	'{"formVariables":[{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n\n    let ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = 0;\n    if (ageParts.length < 6) {\n        years = 0\n    }\n    else {\n        years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    }\n    $utilityData$.ageInYears = years;\n\t\n});"},{"value":"userHealthInfra","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setUserHealthInfra","setterMethodCode":"(function setUserHealthInfra() {\n    $utilityData$.userHealthInfra.user_hf = 16404;\n    $utilityData$.userHealthInfra.user_hf_name = ''Ndola district hospital'';\n if($utilityData$.userHealthInfra.user_hf && $utilityData$.userHealthInfra.user_hf_name\n && $formData$.hivDetails.hiv_test_result === ''POSITIVE'') {\n     $formData$.hivDetails.referral_place = $utilityData$.userHealthInfra.user_hf;\n     $utilityData$.disableHFList = true;\n }\n else {\n     $formData$.hivDetails.referral_place = null;\n }\n\t\n});"},{"value":"healthInfraList","type":"ARRAY","bindTo":"$utilityData$","setter":true,"setterMethodName":"setHealthInfraList","setterMethodCode":"(function setHealthInfraList() {\n\n\t/**\n\t* Setter method for $utilityData$.healthInfraList (ARRAY)\n\t* Please see example below on how to set the value\n\t* $utilityData$.healthInfraList = xxx;\n\t* You can use the available parameters\n\t*/\n\t\n});"},{"value":"disableHFList","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setDisableHFList","setterMethodCode":"(function setDisableHFList() {\n\n $utilityData$.disableHFList = false;\n\t\n});"}],"formMethods":[{"value":"setCounselMsgs","code":"(function setCounselMsgs() {\n    $formData$.hivDetails.adherenceCounseling = ''Offer adherence counseling to caregiver.''\n\t$formData$.hivDetails.dontTestHiv = ''Do not test for HIV (Human Immunodeficiency Viruses) unless new exposure risk.''\n\t$formData$.hivDetails.reengageClient = ''Re-engage client in ART (Anti-Retroviral Therapy).''\n\t$formData$.hivDetails.notEligibleTest = ''Client is not eligible for HIV (Human Immunodeficiency Viruses) test.''\n});"}],"formQueries":[{"value":"Fetch member details","queryCode":"fetch_mem_details","params":"memberId","paramConfig":"{\"memberId\":\"$stateParams$.id\"}","query":"with hof_det as (\nselect im.mobile_number \nfrom imt_member im\nwhere im.family_id = (select family_id from imt_member where id = #memberId#)\nand im.family_head\n)\nselect im.unique_health_id,\nconcat_ws('' '',im.first_name,im.middle_name,im.last_name) as member_name,\ncast(age(im.dob) as text) as age,\nim.dob,\ncase when im.gender = ''F'' then ''Female'' else ''Male'' end as gender,\t\nim.nrc_number,\n(select value from listvalue_field_value_detail where id = im.marital_status) as marital_status,\n(select value from listvalue_field_value_detail where cast(id as text) = imf.religion) as religion,\ncase when im.last_method_of_contraception = ''NATURAL_METHODS'' then ''Natural methods''\nwhen im.last_method_of_contraception = ''ORALPILLS'' or im.last_method_of_contraception = ''ORAL_PILLS'' then ''Oral pills''\nwhen im.last_method_of_contraception = ''IUCD5'' then ''IUCD 5 years''\nwhen im.last_method_of_contraception = ''IUCD10'' then ''IUCD 10 years''\nwhen im.last_method_of_contraception = ''STERILIZATION'' then ''Sterilization''\nwhen im.last_method_of_contraception = ''CONDOM'' then ''Condom''\nwhen im.last_method_of_contraception = ''MLSTR'' then ''Male sterilization''\nwhen im.last_method_of_contraception = ''CONTRA'' then ''Emergency Contraceptive Pills''\nwhen im.last_method_of_contraception = ''INJECTABLES'' then ''Injectables''\nwhen im.last_method_of_contraception = ''BARRIER_METHOD'' then ''Barrier Method''\nwhen im.last_method_of_contraception = ''CHHAYA'' then ''Chhaya''\nwhen im.last_method_of_contraception = ''ANTARA'' then ''Antara''\nelse im.last_method_of_contraception end as last_method_of_contraception,\nim.lmp,\ncast(im.additional_info as json)->> ''hivTest'' as hiv_status,\nim.chronic_disease,\nim.birth_cert_number,\nim.mother_name,\nim.birth_weight,\nim.weight,\nim.is_pregnant,\nim.last_delivery_date,\nim.immunisation_given,\ncast(im.additional_info as json)->> ''developmentalDelays'' as developmental_delay,\ncast(im.additional_info as json)->> ''lastServiceLongGate'' as last_service_date,\n(select mobile_number from hof_det) as family_phone_no,\nconcat_ws('' '',imf.house_number,imf.address1, imf.address2) as family_address\nfrom imt_member im \ninner join imt_family imf on imf.family_id = im.family_id    \nwhere im.id = #memberId#;\n","response":"$infoData$.memberDetails","isResultArray":null,"successMessage":null,"failureMessage":"Member not found.","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Fetch hiv details","queryCode":"fetch_hiv_details","params":"memberId","paramConfig":"{\"memberId\":\"$stateParams$.id\"}","query":"\nselect \nid,\nprevious_hiv_test_result,\nCASE WHEN hiv_test_result IS TRUE THEN ''POSITIVE'' WHEN hiv_test_result IS FALSE THEN ''NEGATIVE''\nELSE NULL end as hiv_test_result,\nchild_currently_on_art,\nchild_art_enrollment_number,\nchild_mother_hiv_positive,\nchild_parent_dead,\nchild_has_tb_symptoms,\nchild_sick,\nchild_rashes,\npus_near_ear,\neligible_for_hiv,\never_told_hiv_positive,\nreceiving_art,\nclient_art_number,\ntested_for_hiv_in_12_months,\nsymptoms,\nprivate_parts_symptoms,\nexposed_to_hiv,\nunprotected_sex_in_last_6_months,\npregnant_or_breastfeeding,\nreferral_place\nfrom rch_hiv_screening_master rhsm \nwhere member_id = #memberId#\norder by id desc limit 1;","response":"$formData$.hivDetails","isResultArray":null,"successMessage":null,"failureMessage":"HIV screening details not found.","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Get User Health Infra","queryCode":"get_user_health_infra","params":"userID","paramConfig":"{\"userID\":\"$loggedInUserId$\"}","query":"select uhi.health_infrastrucutre_id as user_hf, hid.name as user_hf_name\nfrom user_health_infrastructure uhi \ninner join health_infrastructure_details hid on hid.id = uhi.health_infrastrucutre_id  \nwhere uhi.user_id = #userID# and uhi.is_default = true;","response":"$utilityData$.userHealthInfra","isResultArray":null,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":null,"isPagination":false},{"value":"Get health infra","queryCode":"get_health_infra","params":"","paramConfig":"{}","query":"select  h.name , h.id,h.type as type from health_infrastructure_details h;\n","response":"$utilityData$.healthInfraList","isResultArray":true,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":true,"isPagination":false,"dropdownKey":"id","dropdownValue":"name","toVariable":true}]}',
	'[{"type":"FORM_QUERY","value":"Fetch member details"},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_QUERY","value":"Fetch hiv details"},{"type":"FORM_METHOD","value":"setCounselMsgs","continueIfFail":true},{"type":"FORM_QUERY","value":"Get User Health Infra","continueIfFail":true},{"type":"FORM_QUERY","value":"Get health infra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"disableHFList","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"userHealthInfra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"healthInfraList","continueIfFail":true}]',
	'[{"queryCode":"update_hiv_details","hasLoop":null,"queryPath":"$formData$.hivDetails","subQueries":[],"params":[{"key":"previous_hiv_test_result","type":"FIELD","valueKey":"previous_hiv_test_result"},{"key":"hiv_test_result","type":"FIELD","valueKey":"hiv_test_result"},{"key":"child_currently_on_art","type":"FIELD","valueKey":"child_currently_on_art"},{"key":"child_art_enrollment_number","type":"FIELD","valueKey":"child_art_enrollment_number"},{"key":"child_mother_hiv_positive","type":"FIELD","valueKey":"child_mother_hiv_positive"},{"key":"child_parent_dead","type":"FIELD","valueKey":"child_parent_dead"},{"key":"child_has_tb_symptoms","type":"FIELD","valueKey":"child_has_tb_symptoms"},{"key":"child_sick","type":"FIELD","valueKey":"child_sick"},{"key":"child_rashes","type":"FIELD","valueKey":"child_rashes"},{"key":"pus_near_ear","type":"FIELD","valueKey":"pus_near_ear"},{"key":"ever_told_hiv_positive","type":"FIELD","valueKey":"ever_told_hiv_positive"},{"key":"receiving_art","type":"FIELD","valueKey":"receiving_art"},{"key":"client_art_number","type":"FIELD","valueKey":"client_art_number"},{"key":"tested_for_hiv_in_12_months","type":"FIELD","valueKey":"tested_for_hiv_in_12_months"},{"key":"symptoms","type":"FIELD","valueKey":"symptoms"},{"key":"private_parts_symptoms","type":"FIELD","valueKey":"private_parts_symptoms"},{"key":"exposed_to_hiv","type":"FIELD","valueKey":"exposed_to_hiv"},{"key":"unprotected_sex_in_last_6_months","type":"FIELD","valueKey":"unprotected_sex_in_last_6_months"},{"key":"pregnant_or_breastfeeding","type":"FIELD","valueKey":"pregnant_or_breastfeeding"},{"key":"referral_place","type":"FIELD","valueKey":"referral_place"},{"key":"hiv_id","type":"META_DATA","valueKey":"$formData$.hivDetails.id"}],"isEventResource":null,"$$hashKey":"object:25400","queryName":"Update HIV Screening details","query":"with updata_data as (\nupdate rch_hiv_screening_master\nset \nprevious_hiv_test_result = #previous_hiv_test_result#,\nhiv_test_result = case when #hiv_test_result# = ''POSITIVE'' then true \nwhen #hiv_test_result# = ''NEGATIVE'' then false else null end,\nchild_currently_on_art = #child_currently_on_art#,\nchild_art_enrollment_number = #child_art_enrollment_number#,\nchild_mother_hiv_positive = #child_mother_hiv_positive#,\nchild_parent_dead = #child_parent_dead#,\nchild_has_tb_symptoms = #child_has_tb_symptoms#,\nchild_sick = #child_sick#,\nchild_rashes = #child_rashes#,\nmodified_by = #loggedInUserId#,\nmodified_on = now(),\npus_near_ear = #pus_near_ear#,\never_told_hiv_positive = #ever_told_hiv_positive#,\nreceiving_art = #receiving_art#,\nclient_art_number = #client_art_number#,\ntested_for_hiv_in_12_months = #tested_for_hiv_in_12_months#,\nsymptoms = #symptoms#,\nprivate_parts_symptoms = #private_parts_symptoms#,\nexposed_to_hiv = #exposed_to_hiv#,\nunprotected_sex_in_last_6_months = #unprotected_sex_in_last_6_months#,\npregnant_or_breastfeeding = #pregnant_or_breastfeeding#,\nreferral_place = #referral_place#\nwhere id = #hiv_id#\nreturning rch_hiv_screening_master.id\n)\n,update_preg_data as (\nupdate imt_member\nset is_pregnant = #pregnant_or_breastfeeding#\nwhere id = (select member_id from rch_hiv_screening_master where id = #hiv_id#))\nselect id from updata_data;"}]'
ON CONFLICT (form_master_uuid, "version")
DO UPDATE
SET
	form_master_uuid=EXCLUDED.form_master_uuid,
	template_config=EXCLUDED.template_config,
	field_config=EXCLUDED.field_config,
	"version"=EXCLUDED."version",
	created_by=EXCLUDED.created_by,
	created_on=EXCLUDED.created_on,
	modified_by=EXCLUDED.modified_by,
	modified_on=EXCLUDED.modified_on,
	form_object=EXCLUDED.form_object,
	template_css=EXCLUDED.template_css,
	form_vm=EXCLUDED.form_vm,
	execution_sequence=EXCLUDED.execution_sequence,
	query_config=EXCLUDED.query_config;
