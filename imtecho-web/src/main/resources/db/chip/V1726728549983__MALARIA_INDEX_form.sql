with insert_into_medplat_form_master as (
	INSERT INTO medplat_form_master
	("uuid", form_name, form_code, current_version, state, created_by, created_on, modified_by, modified_on, menu_config_id)
	SELECT
		'f46babfc-0ad9-4482-9333-e5234b1dfa46',
		'Malaria Index',
		'MALARIA_INDEX',
		'1',
		'ACTIVE',
		97104,
		now(),
		97104,
		now(),
		393
	ON CONFLICT (form_code)
	DO UPDATE
	SET
		uuid=EXCLUDED."uuid",
		form_name=EXCLUDED.form_name,
		current_version=cast(cast(coalesce((select max(cast(medplat_form_version_history.version as integer)) from medplat_form_master inner join medplat_form_version_history on medplat_form_master.uuid  = medplat_form_version_history.form_master_uuid where medplat_form_master.form_code = EXCLUDED.form_code and medplat_form_version_history.version <> 'DRAFT'),'0') as integer) + 1 as text),
		state=EXCLUDED.state,
		created_by=EXCLUDED.created_by,
		created_on=EXCLUDED.created_on,
		modified_by=EXCLUDED.modified_by,
		modified_on=EXCLUDED.modified_on,
		menu_config_id=EXCLUDED.menu_config_id
	returning medplat_form_master.current_version
)
INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'39ef1ac7-1c1b-a924-579c-7ec2271fd4f4',
	'f46babfc-0ad9-4482-9333-e5234b1dfa46',
	'[{"type":"CARD","config":{"title":"Member Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_weight","fieldName":"Birth weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"weight","fieldName":"Latest weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"immunisation_status","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_phone_no","fieldName":"Family phone number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_address","fieldName":"Family address","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"developmental_delay","fieldName":"Developmental delays","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_index_case","fieldName":"Index Case","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"Screening Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"service_date","fieldName":"Service date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_visit_conducted","fieldName":"Was household visit conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"reason_for_no_visit","fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"individuals_living","fieldName":"Number of people living in the household","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sprayable_surface","fieldName":"Sprayable Surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"non_sprayable_surface","fieldName":"Not sprayable surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_irs_conducted","fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"date_of_last_spray","fieldName":"Date of last spray","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"days_passed_of_diagnosis","fieldName":"Days since last diagnosis","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_adhered_to_treatment","fieldName":"Adhered to treatement","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"day_of_treatment","fieldName":"Day of treatement","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_dbs_collected","fieldName":"DBS collected?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_spot_result","fieldName":"Blood spot result","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_splot_value","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"having_llin","fieldName":"LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"are_llin_hanging","fieldName":"Are LLIN hanging","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"number_of_llins_hanging","fieldName":"No. of LLIN hanging","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleep_under_llin","fieldName":"Sleep under LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleeping_in_sprayed_room","fieldName":"Sleeping in sprayed room","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"where_evidence_is_seen","fieldName":"Where were you seen","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"temperature","fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"were_you_referred","fieldName":"Referred to facility","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"went_to_referral_place","fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_showing_signs","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_showing_signs","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_experiencing_signs","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_exp_signs","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"MALARIA_INDEX":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":true,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":true,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LLIN":{"label":"Do you have LLIN","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Do you have LLIN","fieldKey":"having_llin","isHidden":"false","fieldName":"LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Choose the option","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","hasError":false,"showCard":true,"fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"gender","showContent":false,"displayValue":"Gender","errorMsgListKeys":[]},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","hasError":false,"showCard":true,"fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Religion","errorMsgListKeys":[]},"Index Case":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"is_index_case","fieldName":"Index Case","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"boolean","displayValue":"Index Case"},"Memeber ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":true,"fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","hasError":false,"showCard":true,"fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"NRC Number","errorMsgListKeys":[]},"HIV Display":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","hasError":false,"showCard":true,"fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"HIV Display","errorMsgListKeys":[]},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":true,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Birth weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_weight","fieldName":"Birth weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth weight (in Kgs)"},"Service date":{"label":"Service Date","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Service date","fieldKey":"service_date","isHidden":"false","fieldName":"Service date","fieldType":"DATE","disability":"null","isDisabled":"true","isRequired":"false","requirable":"null","visibility":"null","placeholder":"Service date","maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minServiceDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Please enter service date"},"Latest weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"weight","fieldName":"Latest weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Latest weight (in Kgs)"},"DBS collected?":{"label":"Was the dried blood spot (DBS) collected?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"DBS collected?","fieldKey":"was_dbs_collected","isHidden":"false","fieldName":"DBS collected?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Family address":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_address","fieldName":"Family address","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","displayValue":"Family address"},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","hasError":false,"showCard":true,"fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Marital Status","errorMsgListKeys":[]},"Are LLIN hanging":{"label":"Are LLIN hanging in the house","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Are LLIn hanging","fieldKey":"are_llin_hanging","isHidden":"false","fieldName":"Are LLIN hanging","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.having_llin===true\"},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Blood spot value":{"label":"Blood spot value","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^\\d+$","tooltip":"Blood spot value","fieldKey":"blood_splot_value","isHidden":"false","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","maxLength":"3","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_dbs_collected\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''AVAILABLE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.blood_spot_result\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Enter blood spot value","patternMessage":"Only numbers","requiredMessage":"Please enter blood spot value"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","hasError":false,"showCard":true,"fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Chronic Diseases","errorMsgListKeys":[]},"Sleep under LLIN":{"label":"Did you sleep under LLIN last night","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleep under LLIN","fieldKey":"sleep_under_llin","isHidden":"false","fieldName":"Sleep under LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.having_llin\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.are_llin_hanging\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Blood spot result":{"label":"Blood spot result","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Blood spot result","fieldKey":"blood_spot_result","isHidden":"false","fieldName":"Blood spot result","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_dbs_collected\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"ANALYSIS\",\"value\":\"Still being analysed\"},{\"key\":\"AVAILABLE\",\"value\":\"Available\"}]","requiredMessage":"Choose","additionalStaticOptionsRequired":"false"},"Day of treatement":{"label":"Which day of treatment is it?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Day of treatement","fieldKey":"day_of_treatment","isHidden":"false","fieldName":"Day of treatement","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.patient_adhered_to_treatment\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"ONE\",\"value\":\"DAY 1\"},{\"key\":\"TWO\",\"value\":\"DAY 2\"},{\"key\":\"THREE\",\"value\":\"DAY 3\"}]","requiredMessage":"Please select day of treatment","additionalStaticOptionsRequired":"false"},"Sprayable Surface":{"label":"Sprayable Surface","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleSprayableSurfaceChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sprayable Surface","fieldKey":"sprayable_surface","isHidden":"false","fieldName":"Sprayable Surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose surface","additionalStaticOptionsRequired":"false"},"Date of last spray":{"label":"Date of last spray","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Date of last spray","fieldKey":"date_of_last_spray","isHidden":"false","fieldName":"Date of last spray","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_irs_conducted\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"-- SELECT --","maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minSprayDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Enter last spray date"},"Family phone number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_phone_no","fieldName":"Family phone number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","displayValue":"Family phone number"},"Immunisation Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"immunisation_status","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Immunisation Status"},"No. of LLIN hanging":{"max":"999","min":"0","label":"How many LLIN are hanging","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of LLINS","fieldKey":"number_of_llins_hanging","isHidden":"false","fieldName":"No. of LLIN hanging","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.are_llin_hanging\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.having_llin\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Enter number of LLINS","requiredMessage":"Enter number of LLINS"},"Temprature(Celcius)":{"label":"Temperature (Celcius)","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^-?\\d{1,3}(\\.\\d{1,2})?$","tooltip":"Temperature","fieldKey":"temperature","isHidden":"false","fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","maxLength":"4","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''HFACILITY''\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.where_evidence_is_seen\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Enter temperature","patternMessage":"Please enter valid temperature","requiredMessage":"Please enter temperature"},"Where were you seen":{"label":"Where were you seen","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Where were you seen","fieldKey":"where_evidence_is_seen","isHidden":"false","fieldName":"Where were you seen","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"HFACILITY\",\"value\":\"Health facility\"},{\"key\":\"CHW\",\"value\":\"CHP post\"}]","requiredMessage":"Choose facility","additionalStaticOptionsRequired":"false"},"Developmental delays":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"developmental_delay","fieldName":"Developmental delays","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Developmental delays"},"Referred to facility":{"label":"Were you referred to the facility or hospital at the time you were found to have malaria at the facility?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Reffered to facility","fieldKey":"were_you_referred","isHidden":"false","fieldName":"Referred to facility","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Adhered to treatement":{"label":"Has the patient adhered to the treatment ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Adhered to treatement","fieldKey":"patient_adhered_to_treatment","isHidden":"false","fieldName":"Adhered to treatement","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Not sprayable surface":{"label":"Not sprayable surface","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleNonSprayableSurfaceChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Not sprayable surface","fieldKey":"non_sprayable_surface","isHidden":"false","fieldName":"Not sprayable surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"GRASS\",\"value\":\"Grass\"},{\"key\":\"GLASS\",\"value\":\"Glass\"},{\"key\":\"REEDS\",\"value\":\"Reeds\"},{\"key\":\"METAL\",\"value\":\"Metal\"},{\"key\":\"PLASTIC\",\"value\":\"Plastic\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Select surface","additionalStaticOptionsRequired":"false"},"Birth certificate number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth certificate number"},"Sleeping in sprayed room":{"label":"Are you sleeping in sprayed room?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleeping in sprayed room","fieldKey":"sleeping_in_sprayed_room","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sleeping in sprayed room","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Days since last diagnosis":{"max":"999","min":"0","label":"How many days have passed since the patient was diagnosed at the clinic?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Days since last diagnosis","fieldKey":"days_passed_of_diagnosis","isHidden":"false","fieldName":"Days since last diagnosis","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Enter number of days","requiredMessage":"Enter days since last diagnosis"},"Please mention other signs":{"label":"Please mention other signs","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please mention other signs","fieldKey":"other_showing_signs","isHidden":"false","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_showing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter signs","requiredMessage":"Please mention other signs"},"Why was visit not conducted":{"label":"Why was household visit not conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Why was visit not conducted","fieldKey":"reason_for_no_visit","isHidden":"false","fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_visit_conducted\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === ''true''\"}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"HOUSE_NOT_FOUND\",\"value\":\"Household not found\"},{\"key\":\"NO_MEMBER_FOUND\",\"value\":\"No household member found\"},{\"key\":\"REFUSAL\",\"value\":\"Refusal\"}]","requiredMessage":"Required","additionalStaticOptionsRequired":"false"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Last method of contraception"},"Was household visit conducted":{"label":"Was household visit conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was household visit conducted","fieldKey":"was_visit_conducted","isHidden":"false","fieldName":"Was household visit conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Was household visit conducted","staticOptions":"[{\"key\":\"true\",\"value\":\"YES\"},{\"key\":\"false\",\"value\":\"NO\"}]","requiredMessage":"Was household visit conducted"},"Please specify other experience":{"label":"Please specify other experience","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please specify other experience","fieldKey":"other_exp_signs","isHidden":"false","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_experiencing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter other experience","requiredMessage":"Please specify other experience"},"LMP (Last Menstrual Period) date":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female''\"},{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"LMP (Last Menstrual Period) date"},"Construction material of the walls":{"label":"Construction material of the walls","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Construction material of the walls","fieldKey":"sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Construction material of the walls","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose construction material","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Number of people living in the household":{"max":"999","min":"0","label":"Number of people living in the household","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of people living in the household","fieldKey":"individuals_living","isHidden":"false","fieldName":"Number of people living in the household","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","placeholder":"Enter people living in household","requiredMessage":"Enter only number"},"Did you go to where you were referred to ?":{"label":"Did you go to where you were referred to ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Did you go to where you were referred to ?","fieldKey":"went_to_referral_place","isHidden":"false","fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.were_you_referred\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Please select either yes or no"},"Was IRS (Indoor Residual Spraying)  conducted":{"label":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","fieldKey":"was_irs_conducted","isHidden":"false","fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Select","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Please select either yes or no"},"Is the patient experiencing any of the following ?":{"label":"Is the patient experiencing any of the following ?","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleExperienceSignsChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient experiencing any of the following ?","fieldKey":"patient_experiencing_signs","isHidden":"false","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"VOMITING\",\"value\":\"Persistent or continuous vomiting\"},{\"key\":\"DIARRHEA\",\"value\":\"Severe Diarrhea\"},{\"key\":\"HYPOGLYCEMIA\",\"value\":\"Hypoglycemia or blackouts\"},{\"key\":\"DARKURINE\",\"value\":\"Dark urine\"},{\"key\":\"CONVULSIONS\",\"value\":\"Convulsions\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient experiencing any of the following ?","additionalStaticOptionsRequired":"false"},"Is the patient showing any of the following signs ?":{"label":"Is the patient showing any of the following signs ?","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleShowingSignsChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient showing any of the following signs ?","fieldKey":"patient_showing_signs","isHidden":"false","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"CONFUSION\",\"value\":\"Confusion\"},{\"key\":\"UNCONSCIOUSNESS\",\"value\":\"Unconsciousness\"},{\"key\":\"ABREATHING\",\"value\":\"Abnormal breathing\"},{\"key\":\"ANEMIA\",\"value\":\"Anemia\"},{\"key\":\"DEALYEDREFIL\",\"value\":\"Delayed capillary refil\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient showing any of the following signs ?","additionalStaticOptionsRequired":"false"}}}',
	current_version,
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"malariaIndexDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1064","path":"$formData$.malariaIndexDetails","backendConfigPath":"$formData$.malariaIndexDetails"}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:583"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:599","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:584"}]',
	'label {
    white-space: normal !important;
    line-height: 1.2 !important;
}',
	'{"formVariables":[{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n\n    let ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = 0;\n    if (ageParts.length < 6) {\n        years = 0\n    }\n    else {\n        years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    }\n    $utilityData$.ageInYears = years;\n\t\n});"},{"value":"minServiceDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinServiceDate","setterMethodCode":"(function setMinServiceDate() {\n\n\t$utilityData$.minServiceDate = $formData$.malariaIndexDetails.service_date ? moment($formData$.malariaIndexDetails.service_date) : moment().subtract(9, ''months'');\n\t\n});"},{"value":"minSprayDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinSprayDate","setterMethodCode":"(function setMinSprayDate() {\n\t$utilityData$.minSprayDate = moment().subtract(''years'', 2);\n});"},{"value":"isChildImmunisedInOneYear","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setIsChildImmunisedInOneYear","setterMethodCode":"(function setIsChildImmunisedInOneYear() {\n    const childDetails = $infoData$.memberDetails\n        if (childDetails.immunisation_given != null && childDetails.immunisation_given.length > 0) {\n            const immunisationGiven = childDetails.immunisation_given.split(\",\")\n            const immunisationList = []\n\n            for (let immunisation of immunisationGiven) {\n                immunisationList.push(immunisation.split(\"#\")[0])\n            }\n\n\n            if (immunisationList.length) {\n                if (\n                    immunisationList.includes(\"BCG\")\n                    && immunisationList.includes(\"OPV_1\")\n                    && immunisationList.includes(\"OPV_2\")\n                    && immunisationList.includes(\"OPV_3\")\n                    && (immunisationList.includes(\"PENTA_1\") || immunisationList.includes(\"DPT_1\"))\n                    && (immunisationList.includes(\"PENTA_2\") || immunisationList.includes(\"DPT_2\"))\n                    && (immunisationList.includes(\"PENTA_3\") || immunisationList.includes(\"DPT_3\"))\n                    && (immunisationList.includes(\"MEASLES_RUBELLA_1\") || immunisationList.includes(\"MEASLES_1\"))) {\n                    $utilityData$.isChildImmunisedInOneYear = true;\n                } else {\n                    $utilityData$.isChildImmunisedInOneYear = false;\n                }\n            } else {\n                $utilityData$.isChildImmunisedInOneYear = false;\n            }\n        } else {\n            $utilityData$.isChildImmunisedInOneYear = false;\n        }\n});"},{"value":"isChildImmunisedInTwoYear","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setIsChildImmunisedInTwoYear","setterMethodCode":"(function setIsChildImmunisedInTwoYear() {\n    const childDetails = $infoData$.memberDetails\n        if (childDetails.immunisation_given != null && childDetails.immunisation_given.length > 0) {\n            const immunisationGiven = childDetails.immunisation_given.split(\",\")\n            const immunisationList = []\n\n            for (let immunisation of immunisationGiven) {\n                immunisationList.push(immunisation.split(\"#\")[0])\n            }\n\n            if (immunisationList.length) {\n                if (\n                    immunisationList.includes(\"BCG\")\n                    && immunisationList.includes(\"VITTAMIN_A_50000\")\n                    && immunisationList.includes(\"VITTAMIN_A_100000\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_1\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_2\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_3\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_4\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_5\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_6\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_7\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_8\")\n                    && immunisationList.includes(\"OPV_0\")\n                    && immunisationList.includes(\"OPV_1\")\n                    && immunisationList.includes(\"OPV_2\")\n                    && immunisationList.includes(\"OPV_3\")\n                    && immunisationList.includes(\"PCV_1\")\n                    && immunisationList.includes(\"PCV_2\")\n                    && immunisationList.includes(\"PCV_3\")\n                    && immunisationList.includes(\"DPT_HEB_HIB_1\")\n                    && immunisationList.includes(\"DPT_HEB_HIB_2\")\n                    && immunisationList.includes(\"DPT_HEB_HIB_3\")\n                    && immunisationList.includes(\"ROTA_VACCINE_1\")\n                    && immunisationList.includes(\"MEASLES_RUBELLA_1\")\n                    && immunisationList.includes(\"MEASLES_RUBELLA_2\")) {\n                    $utilityData$.isChildImmunisedInTwoYear = true;\n                } else {\n                    $utilityData$.isChildImmunisedInTwoYear = false;\n                }\n            } else {\n                $utilityData$.isChildImmunisedInTwoYear = false;\n            }\n        } else {\n            $utilityData$.isChildImmunisedInTwoYear = false;\n        }\n});"}],"formMethods":[{"value":"setMultipleValuesInDropDown","code":"(function setMultipleValuesInDropDown() {\n    \n    if ($formData$.malariaIndexDetails.sprayable_surface) {\n        $formData$.malariaIndexDetails.sprayable_surface = $formData$.malariaIndexDetails?.sprayable_surface?.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.non_sprayable_surface) {\n        $formData$.malariaIndexDetails.non_sprayable_surface = $formData$.malariaIndexDetails?.non_sprayable_surface?.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.patient_showing_signs) {\n        $formData$.malariaIndexDetails.patient_showing_signs = $formData$.malariaIndexDetails?.patient_showing_signs?.split('','');\n    }\n\t\n\tif($formData$.malariaIndexDetails.patient_experiencing_signs){\n\t    $formData$.malariaIndexDetails.patient_experiencing_signs = $formData$.malariaIndexDetails?.patient_experiencing_signs?.split('','');\n\t}\n});"},{"value":"setImmunisationStatus","code":"(function setImmunisationStatus() {\n\tconst dobDate = new Date($infoData$.memberDetails.dob);\n    const currentDate = new Date();\n    \n    let age = currentDate.getFullYear() - dobDate.getFullYear();\n    const monthDiff = currentDate.getMonth() - dobDate.getMonth();\n    const dayDiff = currentDate.getDate() - dobDate.getDate();\n    \n    if (monthDiff < 0 || (monthDiff === 0 && dayDiff < 0)) {\n        age--;\n    }\n\n    if (age < 1) {\n        $infoData$.memberDetails.immunisation_status = ''Not fully immunised''\n    } else if (age >= 1 && age <= 2) {\n        $infoData$.memberDetails.immunisation_status = $utilityData$.isChildImmunisedInOneYear ? ''Fully immunised'' : ''Not fully immunised''\n    } else {\n        $infoData$.memberDetails.immunisation_status = $utilityData$.isChildImmunisedInTwoYear ? ''Fully immunised'' : ''Not fully immunised''\n    }\n});"},{"value":"handleSprayableSurfaceChange","code":"(function handleSprayableSurfaceChange() {\n\tif ($formData$.malariaIndexDetails?.sprayable_surface?.length > 0\n        && $formData$.malariaIndexDetails?.sprayable_surface?.includes(''NON_APPLICABLE'')) {\n        $formData$.malariaIndexDetails.sprayable_surface = [''NON_APPLICABLE''];\n    }\n});"},{"value":"handleNonSprayableSurfaceChange","code":"(function handleNonSprayableSurfaceChange() {\n\tif ($formData$.malariaIndexDetails?.non_sprayable_surface?.length > 0\n        && $formData$.malariaIndexDetails?.non_sprayable_surface?.includes(''NON_APPLICABLE'')) {\n        $formData$.malariaIndexDetails.non_sprayable_surface = [''NON_APPLICABLE''];\n    }\n});"},{"value":"handleShowingSignsChange","code":"(function handleShowingSignsChange() {\n\tif ($formData$.malariaIndexDetails?.patient_showing_signs?.length > 0\n        && $formData$.malariaIndexDetails?.patient_showing_signs?.includes(''NONE'')) {\n        $formData$.malariaIndexDetails.patient_showing_signs = [''NONE''];\n    }\n});"},{"value":"handleExperienceSignsChange","code":"(function handleExperienceSignsChange() {\n\tif ($formData$.malariaIndexDetails?.patient_experiencing_signs?.length > 0\n        && $formData$.malariaIndexDetails?.patient_experiencing_signs?.includes(''NONE'')) {\n        $formData$.malariaIndexDetails.patient_experiencing_signs = [''NONE''];\n    }\n});"}],"formQueries":[{"value":"Get Member Details","queryCode":"get_member_details","params":"member_id","paramConfig":"{\"member_id\":\"$formData$.malariaIndexDetails.member_id\"}","query":"with hof_det as (\nselect im.mobile_number \nfrom imt_member im\nwhere im.family_id = (select family_id from imt_member where id = #member_id#)\nand im.family_head\n)\nselect \n\tim.id, im.unique_health_id, \n\tim.family_id, concat_ws('' '', im.first_name, im.middle_name, im.last_name) as member_name, \n\tim.dob, \n\t(select value from listvalue_field_value_detail where id = im.marital_status) as marital_status,\n    (select value \n\t from listvalue_field_value_detail \n\t where cast(id as text) = \n\t   case \n\t\t when if2.religion is not null then if2.religion\n\t\t when im.member_religion is not null then im.member_religion\n\t\t else null\n\t   end\n\t) as religion,\n\tcast(age(current_date, im.dob) as text) as age,\n\tim.nrc_number, \n\tim.last_method_of_contraception, im.lmp,\n\tcast(im.additional_info as json)->> ''hivTest'' as hiv_status,\n    (select string_agg(value, '', '')  from listvalue_field_value_detail lfvd \n    where cast(id as text) in (select unnest(string_to_array(im.chronic_disease,'','')))) as chronic_disease,\n    im.birth_cert_number,\n    im.mother_name,\n    im.birth_weight,\n    im.weight,\n    im.is_pregnant,\n    im.immunisation_given,\n    cast(im.additional_info as json)->> ''developmentalDelays'' as developmental_delay,\n    cast(im.additional_info as json)->> ''lastServiceLongGate'' as last_service_date,\n    (select mobile_number from hof_det) as family_phone_no,\n\tcase when im.gender = ''F'' then ''Female'' else ''Male'' end as gender,\n\tconcat_ws('' '', if2.house_number, if2.address1, if2.address2) as family_address,\n\tif2.area_id, if2.location_id,\n\tcast(im.additional_info as json)->> ''indexCase'' as is_index_case\nfrom \n\timt_member im \ninner join \n\timt_family if2 on im.family_id = if2.family_id \nwhere \n    im.id=#member_id#;","response":"$infoData$.memberDetails","isResultArray":null,"successMessage":null,"failureMessage":"Member details not found","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Get Malaria Index Details","queryCode":"get_malaria_index_details","params":"member_id","paramConfig":"{\"member_id\":\"$stateParams$.id\"}","query":"select\n    service_date,\n    was_visit_conducted,\n    sprayable_surface,\n    individuals_living,\n    non_sprayable_surface,\n    was_irs_conducted,\n    date_of_last_spray,\n    having_llin,\n    are_llin_hanging,\n    number_of_llins_hanging,\n    sleep_under_llin,\n    sleeping_in_sprayed_room,\n    days_passed_of_diagnosis,\n    patient_adhered_to_treatment,\n    day_of_treatment,\n    where_evidence_is_seen,\n    temperature,\n    were_you_referred,\n    went_to_referral_place,\n    CASE\n        WHEN other_showing_signs IS NOT NULL THEN CASE\n            WHEN patient_showing_signs IS NOT NULL THEN patient_showing_signs || '',OTHER''\n            ELSE ''OTHER''\n        END\n        ELSE patient_showing_signs\n    END AS patient_showing_signs,\n    CASE\n        WHEN other_exp_signs IS NOT NULL THEN CASE\n            WHEN patient_experiencing_signs IS NOT NULL THEN patient_experiencing_signs || '',OTHER''\n            ELSE ''OTHER''\n        END\n        ELSE patient_experiencing_signs\n    END AS patient_experiencing_signs,\n    was_dbs_collected,\n    other_showing_signs,\n    blood_spot_result,\n    blood_splot_value,\n    member_id\nfrom\n    malaria_index_case_details micd\nwhere\n    id=#member_id#;","response":"$formData$.malariaIndexDetails","isResultArray":null,"successMessage":null,"failureMessage":"Screening records not found","isResponseMandatory":true,"isField":null,"isPagination":false}]}',
	'[{"type":"FORM_QUERY","value":"Get Malaria Index Details"},{"type":"FORM_QUERY","value":"Get Member Details"},{"type":"FORM_VARIABLE_SETTER","value":"isChildImmunisedInOneYear","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"isChildImmunisedInTwoYear","continueIfFail":true},{"type":"FORM_METHOD","value":"setImmunisationStatus","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minServiceDate","continueIfFail":true},{"type":"FORM_METHOD","value":"setMultipleValuesInDropDown","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minSprayDate","continueIfFail":true}]',
	'[{"queryCode":"update_malaria_index_Details","hasLoop":null,"queryPath":"$formData$.malariaIndexDetails","subQueries":[],"params":[{"key":"service_date","type":"FIELD","valueKey":"service_date"},{"key":"was_visit_conducted","type":"FIELD","valueKey":"was_visit_conducted"},{"key":"sprayable_surface","type":"FIELD","valueKey":"sprayable_surface"},{"key":"individuals_living","type":"FIELD","valueKey":"individuals_living"},{"key":"non_sprayable_surface","type":"FIELD","valueKey":"non_sprayable_surface"},{"key":"was_irs_conducted","type":"FIELD","valueKey":"was_irs_conducted"},{"key":"date_of_last_spray","type":"FIELD","valueKey":"date_of_last_spray"},{"key":"having_llin","type":"FIELD","valueKey":"having_llin"},{"key":"are_llin_hanging","type":"FIELD","valueKey":"are_llin_hanging"},{"key":"number_of_llins_hanging","type":"FIELD","valueKey":"number_of_llins_hanging"},{"key":"sleep_under_llin","type":"FIELD","valueKey":"sleep_under_llin"},{"key":"sleeping_in_sprayed_room","type":"FIELD","valueKey":"sleeping_in_sprayed_room"},{"key":"days_passed_of_diagnosis","type":"FIELD","valueKey":"days_passed_of_diagnosis"},{"key":"patient_adhered_to_treatment","type":"FIELD","valueKey":"patient_adhered_to_treatment"},{"key":"day_of_treatment","type":"FIELD","valueKey":"day_of_treatment"},{"key":"where_evidence_is_seen","type":"FIELD","valueKey":"where_evidence_is_seen"},{"key":"temperature","type":"FIELD","valueKey":"temperature"},{"key":"were_you_referred","type":"FIELD","valueKey":"were_you_referred"},{"key":"went_to_referral_place","type":"FIELD","valueKey":"went_to_referral_place"},{"key":"patient_showing_signs","type":"FIELD","valueKey":"patient_showing_signs"},{"key":"patient_experiencing_signs","type":"FIELD","valueKey":"patient_experiencing_signs"},{"key":"other_exp_signs","type":"FIELD","valueKey":"other_exp_signs"},{"key":"was_dbs_collected","type":"FIELD","valueKey":"was_dbs_collected"},{"key":"other_showing_signs","type":"FIELD","valueKey":"other_showing_signs"},{"key":"blood_spot_result","type":"FIELD","valueKey":"blood_spot_result"},{"key":"blood_splot_value","type":"FIELD","valueKey":"blood_splot_value"},{"key":"member_id","type":"META_DATA","valueKey":"$formData$.malariaIndexDetails.member_id"}],"isEventResource":null,"$$hashKey":"object:567","queryName":"Update malaria index details","query":"with updated_data as (\nupdate malaria_index_case_details\nset service_date=#service_date#,\nwas_visit_conducted=#was_visit_conducted#,\nsprayable_surface = #sprayable_surface#,\nindividuals_living =#individuals_living#,\nnon_sprayable_surface=#non_sprayable_surface#,\nwas_irs_conducted=#was_irs_conducted#,\ndate_of_last_spray=#date_of_last_spray#,\nhaving_llin=#having_llin#,\nare_llin_hanging=#are_llin_hanging#,\nnumber_of_llins_hanging=#number_of_llins_hanging#,\nsleep_under_llin = #sleep_under_llin#,\nsleeping_in_sprayed_room=#sleeping_in_sprayed_room#,\ndays_passed_of_diagnosis=#days_passed_of_diagnosis#,\npatient_adhered_to_treatment=#patient_adhered_to_treatment#,\nday_of_treatment=#day_of_treatment#,\nwhere_evidence_is_seen=#where_evidence_is_seen#,\ntemperature=#temperature#,\nwere_you_referred=#were_you_referred#,\nwent_to_referral_place = #went_to_referral_place#,\npatient_showing_signs=CASE \n            WHEN #patient_showing_signs# LIKE ''%NONE%'' THEN NULL\n            ELSE NULLIF(\n                TRIM(BOTH '','' FROM REPLACE(#patient_showing_signs#, ''OTHER'', '''')), ''''\n            ) \n        END,\npatient_experiencing_signs=CASE \n            WHEN #patient_experiencing_signs# LIKE ''%NONE%'' THEN NULL\n            ELSE NULLIF(\n                TRIM(BOTH '','' FROM REPLACE(#patient_experiencing_signs#, ''OTHER'', '''')), ''''\n            ) \n        END,\nother_exp_signs=#other_exp_signs#,\nwas_dbs_collected=#was_dbs_collected#,\nother_showing_signs=#other_showing_signs#,\nblood_spot_result=#blood_spot_result#,\nblood_splot_value=#blood_splot_value#,\nmodified_by = #loggedInUserId#,\nmodified_on = now()\nwhere member_id=#member_id#\nreturning malaria_index_case_details.id\n)\nselect id from updated_data;"}]'
FROM insert_into_medplat_form_master;


INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'e90ab72f-8644-842a-020a-0308823d7d49',
	'f46babfc-0ad9-4482-9333-e5234b1dfa46',
	'[{"type":"CARD","config":{"title":"Member Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_weight","fieldName":"Birth weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"weight","fieldName":"Latest weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"immunisation_status","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_phone_no","fieldName":"Family phone number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_address","fieldName":"Family address","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"developmental_delay","fieldName":"Developmental delays","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_index_case","fieldName":"Index Case","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"Screening Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"service_date","fieldName":"Service date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_visit_conducted","fieldName":"Was household visit conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"reason_for_no_visit","fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"individuals_living","fieldName":"Number of people living in the household","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sprayable_surface","fieldName":"Sprayable Surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"non_sprayable_surface","fieldName":"Not sprayable surface","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_irs_conducted","fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"date_of_last_spray","fieldName":"Date of last spray","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"days_passed_of_diagnosis","fieldName":"Days since last diagnosis","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_adhered_to_treatment","fieldName":"Adhered to treatement","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"day_of_treatment","fieldName":"Day of treatement","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"was_dbs_collected","fieldName":"DBS collected?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_spot_result","fieldName":"Blood spot result","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"blood_splot_value","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"having_llin","fieldName":"LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"are_llin_hanging","fieldName":"Are LLIN hanging","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"number_of_llins_hanging","fieldName":"No. of LLIN hanging","fieldType":"NUMBER","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleep_under_llin","fieldName":"Sleep under LLIN","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"sleeping_in_sprayed_room","fieldName":"Sleeping in sprayed room","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"where_evidence_is_seen","fieldName":"Where were you seen","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"temperature","fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"were_you_referred","fieldName":"Referred to facility","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"went_to_referral_place","fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_showing_signs","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_showing_signs","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"patient_experiencing_signs","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_exp_signs","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"MALARIA_INDEX":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":true,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":true,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LLIN":{"label":"Do you have LLIN","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Do you have LLIN","fieldKey":"having_llin","isHidden":"false","fieldName":"LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Choose the option","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","hasError":false,"showCard":true,"fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"gender","showContent":false,"displayValue":"Gender","errorMsgListKeys":[]},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","hasError":false,"showCard":true,"fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Religion","errorMsgListKeys":[]},"Index Case":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"is_index_case","fieldName":"Index Case","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"boolean","displayValue":"Index Case"},"Memeber ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":true,"fieldName":"Memeber ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","hasError":false,"showCard":true,"fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"NRC Number","errorMsgListKeys":[]},"HIV Display":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","hasError":false,"showCard":true,"fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"HIV Display","errorMsgListKeys":[]},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":true,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Birth weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_weight","fieldName":"Birth weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth weight (in Kgs)"},"Service date":{"label":"Service Date","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Service date","fieldKey":"service_date","isHidden":"false","fieldName":"Service date","fieldType":"DATE","disability":"null","isDisabled":"true","isRequired":"false","requirable":"null","visibility":"null","placeholder":"Service date","maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minServiceDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Please enter service date"},"Latest weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"weight","fieldName":"Latest weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Latest weight (in Kgs)"},"DBS collected?":{"label":"Was the dried blood spot (DBS) collected?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"DBS collected?","fieldKey":"was_dbs_collected","isHidden":"false","fieldName":"DBS collected?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Family address":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_address","fieldName":"Family address","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","displayValue":"Family address"},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","hasError":false,"showCard":true,"fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Marital Status","errorMsgListKeys":[]},"Are LLIN hanging":{"label":"Are LLIN hanging in the house","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Are LLIn hanging","fieldKey":"are_llin_hanging","isHidden":"false","fieldName":"Are LLIN hanging","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.having_llin===true\"},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Blood spot value":{"label":"Blood spot value","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^\\d+$","tooltip":"Blood spot value","fieldKey":"blood_splot_value","isHidden":"false","fieldName":"Blood spot value","fieldType":"SHORT_TEXT","maxLength":"3","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_dbs_collected\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''AVAILABLE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.blood_spot_result\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Enter blood spot value","patternMessage":"Only numbers","requiredMessage":"Please enter blood spot value"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","hasError":false,"showCard":true,"fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","showContent":false,"displayValue":"Chronic Diseases","errorMsgListKeys":[]},"Sleep under LLIN":{"label":"Did you sleep under LLIN last night","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleep under LLIN","fieldKey":"sleep_under_llin","isHidden":"false","fieldName":"Sleep under LLIN","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.having_llin\",\"queryCode\":null,\"expression\":null},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.are_llin_hanging\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Blood spot result":{"label":"Blood spot result","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Blood spot result","fieldKey":"blood_spot_result","isHidden":"false","fieldName":"Blood spot result","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_dbs_collected\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"ANALYSIS\",\"value\":\"Still being analysed\"},{\"key\":\"AVAILABLE\",\"value\":\"Available\"}]","requiredMessage":"Choose","additionalStaticOptionsRequired":"false"},"Day of treatement":{"label":"Which day of treatment is it?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Day of treatement","fieldKey":"day_of_treatment","isHidden":"false","fieldName":"Day of treatement","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.patient_adhered_to_treatment\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"ONE\",\"value\":\"DAY 1\"},{\"key\":\"TWO\",\"value\":\"DAY 2\"},{\"key\":\"THREE\",\"value\":\"DAY 3\"}]","requiredMessage":"Please select day of treatment","additionalStaticOptionsRequired":"false"},"Sprayable Surface":{"label":"Sprayable Surface","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleSprayableSurfaceChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sprayable Surface","fieldKey":"sprayable_surface","isHidden":"false","fieldName":"Sprayable Surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose surface","additionalStaticOptionsRequired":"false"},"Date of last spray":{"label":"Date of last spray","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Date of last spray","fieldKey":"date_of_last_spray","isHidden":"false","fieldName":"Date of last spray","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_irs_conducted\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"-- SELECT --","maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minSprayDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Enter last spray date"},"Family phone number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_phone_no","fieldName":"Family phone number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","displayValue":"Family phone number"},"Immunisation Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"immunisation_status","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Immunisation Status"},"No. of LLIN hanging":{"max":"999","min":"0","label":"How many LLIN are hanging","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of LLINS","fieldKey":"number_of_llins_hanging","isHidden":"false","fieldName":"No. of LLIN hanging","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.are_llin_hanging\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.having_llin\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Enter number of LLINS","requiredMessage":"Enter number of LLINS"},"Temprature(Celcius)":{"label":"Temperature (Celcius)","events":"null","ngModel":"$formData$.malariaIndexDetails","pattern":"^-?\\d{1,3}(\\.\\d{1,2})?$","tooltip":"Temperature","fieldKey":"temperature","isHidden":"false","fieldName":"Temprature(Celcius)","fieldType":"SHORT_TEXT","maxLength":"4","minLength":"0","disability":"null","hasPattern":"true","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''HFACILITY''\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.where_evidence_is_seen\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Enter temperature","patternMessage":"Please enter valid temperature","requiredMessage":"Please enter temperature"},"Where were you seen":{"label":"Where were you seen","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Where were you seen","fieldKey":"where_evidence_is_seen","isHidden":"false","fieldName":"Where were you seen","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"HFACILITY\",\"value\":\"Health facility\"},{\"key\":\"CHW\",\"value\":\"CHP post\"}]","requiredMessage":"Choose facility","additionalStaticOptionsRequired":"false"},"Developmental delays":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"developmental_delay","fieldName":"Developmental delays","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Developmental delays"},"Referred to facility":{"label":"Were you referred to the facility or hospital at the time you were found to have malaria at the facility?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Reffered to facility","fieldKey":"were_you_referred","isHidden":"false","fieldName":"Referred to facility","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Adhered to treatement":{"label":"Has the patient adhered to the treatment ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Adhered to treatement","fieldKey":"patient_adhered_to_treatment","isHidden":"false","fieldName":"Adhered to treatement","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no"},"Not sprayable surface":{"label":"Not sprayable surface","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleNonSprayableSurfaceChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Not sprayable surface","fieldKey":"non_sprayable_surface","isHidden":"false","fieldName":"Not sprayable surface","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"GRASS\",\"value\":\"Grass\"},{\"key\":\"GLASS\",\"value\":\"Glass\"},{\"key\":\"REEDS\",\"value\":\"Reeds\"},{\"key\":\"METAL\",\"value\":\"Metal\"},{\"key\":\"PLASTIC\",\"value\":\"Plastic\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Select surface","additionalStaticOptionsRequired":"false"},"Birth certificate number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth certificate number"},"Sleeping in sprayed room":{"label":"Are you sleeping in sprayed room?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Sleeping in sprayed room","fieldKey":"sleeping_in_sprayed_room","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Sleeping in sprayed room","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"Choose","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Choose yes or no","errorMsgListKeys":[]},"Days since last diagnosis":{"max":"999","min":"0","label":"How many days have passed since the patient was diagnosed at the clinic?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Days since last diagnosis","fieldKey":"days_passed_of_diagnosis","isHidden":"false","fieldName":"Days since last diagnosis","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Enter number of days","requiredMessage":"Enter days since last diagnosis"},"Please mention other signs":{"label":"Please mention other signs","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please mention other signs","fieldKey":"other_showing_signs","isHidden":"false","fieldName":"Please mention other signs","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_showing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter signs","requiredMessage":"Please mention other signs"},"Why was visit not conducted":{"label":"Why was household visit not conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Why was visit not conducted","fieldKey":"reason_for_no_visit","isHidden":"false","fieldName":"Why was visit not conducted","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"false\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.was_visit_conducted\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === ''true''\"}]}}","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"HOUSE_NOT_FOUND\",\"value\":\"Household not found\"},{\"key\":\"NO_MEMBER_FOUND\",\"value\":\"No household member found\"},{\"key\":\"REFUSAL\",\"value\":\"Refusal\"}]","requiredMessage":"Required","additionalStaticOptionsRequired":"false"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Last method of contraception"},"Was household visit conducted":{"label":"Was household visit conducted","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was household visit conducted","fieldKey":"was_visit_conducted","isHidden":"false","fieldName":"Was household visit conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Was household visit conducted","staticOptions":"[{\"key\":\"true\",\"value\":\"YES\"},{\"key\":\"false\",\"value\":\"NO\"}]","requiredMessage":"Was household visit conducted"},"Please specify other experience":{"label":"Please specify other experience","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Please specify other experience","fieldKey":"other_exp_signs","isHidden":"false","fieldName":"Please specify other experience","fieldType":"SHORT_TEXT","maxLength":"200","minLength":"0","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaIndexDetails.patient_experiencing_signs.includes(''OTHER'')\"}]}}","placeholder":"Enter other experience","requiredMessage":"Please specify other experience"},"LMP (Last Menstrual Period) date":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female''\"},{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"LMP (Last Menstrual Period) date"},"Construction material of the walls":{"label":"Construction material of the walls","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Construction material of the walls","fieldKey":"sprayable_surface","hasError":false,"isHidden":"false","showCard":true,"fieldName":"Construction material of the walls","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"--select--","showContent":false,"staticOptions":"[{\"key\":\"PLASTERED_AND_PAINT\",\"value\":\"Plastered and painted\"},{\"key\":\"PLASTERED_NOT_PAINT\",\"value\":\"Plastered not painted\"},{\"key\":\"BURNT_BRICK\",\"value\":\"Burnt bricks\"},{\"key\":\"UNBURNT_BRICK\",\"value\":\"Unburnt bricks\"},{\"key\":\"MUD\",\"value\":\"Mud\"},{\"key\":\"PLAIN\",\"value\":\"Plain Blocks\"},{\"key\":\"NON_APPLICABLE\",\"value\":\"Non-applicable\"}]","requiredMessage":"Choose construction material","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"Number of people living in the household":{"max":"999","min":"0","label":"Number of people living in the household","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Number of people living in the household","fieldKey":"individuals_living","isHidden":"false","fieldName":"Number of people living in the household","fieldType":"NUMBER","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","placeholder":"Enter people living in household","requiredMessage":"Enter only number"},"Did you go to where you were referred to ?":{"label":"Did you go to where you were referred to ?","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Did you go to where you were referred to ?","fieldKey":"went_to_referral_place","isHidden":"false","fieldName":"Did you go to where you were referred to ?","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaIndexDetails.were_you_referred\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Choose","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Please select either yes or no"},"Was IRS (Indoor Residual Spraying)  conducted":{"label":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","events":"null","ngModel":"$formData$.malariaIndexDetails","tooltip":"Was IRS (Indoor Residual Spraying)  conducted in that house in the past 12 months","fieldKey":"was_irs_conducted","isHidden":"false","fieldName":"Was IRS (Indoor Residual Spraying)  conducted","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.is_index_case === \\\"true\\\"\"}]}}","optionsType":"staticOptions","placeholder":"Select","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Please select either yes or no"},"Is the patient experiencing any of the following ?":{"label":"Is the patient experiencing any of the following ?","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleExperienceSignsChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient experiencing any of the following ?","fieldKey":"patient_experiencing_signs","isHidden":"false","fieldName":"Is the patient experiencing any of the following ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"VOMITING\",\"value\":\"Persistent or continuous vomiting\"},{\"key\":\"DIARRHEA\",\"value\":\"Severe Diarrhea\"},{\"key\":\"HYPOGLYCEMIA\",\"value\":\"Hypoglycemia or blackouts\"},{\"key\":\"DARKURINE\",\"value\":\"Dark urine\"},{\"key\":\"CONVULSIONS\",\"value\":\"Convulsions\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient experiencing any of the following ?","additionalStaticOptionsRequired":"false"},"Is the patient showing any of the following signs ?":{"label":"Is the patient showing any of the following signs ?","events":"{\"Change\":{\"actions\":[{\"type\":\"FORM_METHOD\",\"value\":\"handleShowingSignsChange\",\"continueIfFail\":true}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaIndexDetails","tooltip":"Is the patient showing any of the following signs ?","fieldKey":"patient_showing_signs","isHidden":"false","fieldName":"Is the patient showing any of the following signs ?","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- SELECT --","staticOptions":"[{\"key\":\"CONFUSION\",\"value\":\"Confusion\"},{\"key\":\"UNCONSCIOUSNESS\",\"value\":\"Unconsciousness\"},{\"key\":\"ABREATHING\",\"value\":\"Abnormal breathing\"},{\"key\":\"ANEMIA\",\"value\":\"Anemia\"},{\"key\":\"DEALYEDREFIL\",\"value\":\"Delayed capillary refil\"},{\"key\":\"OTHER\",\"value\":\"Other\"},{\"key\":\"NONE\",\"value\":\"None\"}]","requiredMessage":"Is the patient showing any of the following signs ?","additionalStaticOptionsRequired":"false"}}}',
	'DRAFT',
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"malariaIndexDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1064","path":"$formData$.malariaIndexDetails","backendConfigPath":"$formData$.malariaIndexDetails"}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:583"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:599","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:584"}]',
	'label {
    white-space: normal !important;
    line-height: 1.2 !important;
}',
	'{"formVariables":[{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n\n    let ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = 0;\n    if (ageParts.length < 6) {\n        years = 0\n    }\n    else {\n        years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    }\n    $utilityData$.ageInYears = years;\n\t\n});"},{"value":"minServiceDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinServiceDate","setterMethodCode":"(function setMinServiceDate() {\n\n\t$utilityData$.minServiceDate = $formData$.malariaIndexDetails.service_date ? moment($formData$.malariaIndexDetails.service_date) : moment().subtract(9, ''months'');\n\t\n});"},{"value":"minSprayDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinSprayDate","setterMethodCode":"(function setMinSprayDate() {\n\t$utilityData$.minSprayDate = moment().subtract(''years'', 2);\n});"},{"value":"isChildImmunisedInOneYear","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setIsChildImmunisedInOneYear","setterMethodCode":"(function setIsChildImmunisedInOneYear() {\n    const childDetails = $infoData$.memberDetails\n        if (childDetails.immunisation_given != null && childDetails.immunisation_given.length > 0) {\n            const immunisationGiven = childDetails.immunisation_given.split(\",\")\n            const immunisationList = []\n\n            for (let immunisation of immunisationGiven) {\n                immunisationList.push(immunisation.split(\"#\")[0])\n            }\n\n\n            if (immunisationList.length) {\n                if (\n                    immunisationList.includes(\"BCG\")\n                    && immunisationList.includes(\"OPV_1\")\n                    && immunisationList.includes(\"OPV_2\")\n                    && immunisationList.includes(\"OPV_3\")\n                    && (immunisationList.includes(\"PENTA_1\") || immunisationList.includes(\"DPT_1\"))\n                    && (immunisationList.includes(\"PENTA_2\") || immunisationList.includes(\"DPT_2\"))\n                    && (immunisationList.includes(\"PENTA_3\") || immunisationList.includes(\"DPT_3\"))\n                    && (immunisationList.includes(\"MEASLES_RUBELLA_1\") || immunisationList.includes(\"MEASLES_1\"))) {\n                    $utilityData$.isChildImmunisedInOneYear = true;\n                } else {\n                    $utilityData$.isChildImmunisedInOneYear = false;\n                }\n            } else {\n                $utilityData$.isChildImmunisedInOneYear = false;\n            }\n        } else {\n            $utilityData$.isChildImmunisedInOneYear = false;\n        }\n});"},{"value":"isChildImmunisedInTwoYear","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setIsChildImmunisedInTwoYear","setterMethodCode":"(function setIsChildImmunisedInTwoYear() {\n    const childDetails = $infoData$.memberDetails\n        if (childDetails.immunisation_given != null && childDetails.immunisation_given.length > 0) {\n            const immunisationGiven = childDetails.immunisation_given.split(\",\")\n            const immunisationList = []\n\n            for (let immunisation of immunisationGiven) {\n                immunisationList.push(immunisation.split(\"#\")[0])\n            }\n\n            if (immunisationList.length) {\n                if (\n                    immunisationList.includes(\"BCG\")\n                    && immunisationList.includes(\"VITTAMIN_A_50000\")\n                    && immunisationList.includes(\"VITTAMIN_A_100000\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_1\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_2\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_3\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_4\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_5\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_6\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_7\")\n                    && immunisationList.includes(\"VITTAMIN_A_200000_8\")\n                    && immunisationList.includes(\"OPV_0\")\n                    && immunisationList.includes(\"OPV_1\")\n                    && immunisationList.includes(\"OPV_2\")\n                    && immunisationList.includes(\"OPV_3\")\n                    && immunisationList.includes(\"PCV_1\")\n                    && immunisationList.includes(\"PCV_2\")\n                    && immunisationList.includes(\"PCV_3\")\n                    && immunisationList.includes(\"DPT_HEB_HIB_1\")\n                    && immunisationList.includes(\"DPT_HEB_HIB_2\")\n                    && immunisationList.includes(\"DPT_HEB_HIB_3\")\n                    && immunisationList.includes(\"ROTA_VACCINE_1\")\n                    && immunisationList.includes(\"MEASLES_RUBELLA_1\")\n                    && immunisationList.includes(\"MEASLES_RUBELLA_2\")) {\n                    $utilityData$.isChildImmunisedInTwoYear = true;\n                } else {\n                    $utilityData$.isChildImmunisedInTwoYear = false;\n                }\n            } else {\n                $utilityData$.isChildImmunisedInTwoYear = false;\n            }\n        } else {\n            $utilityData$.isChildImmunisedInTwoYear = false;\n        }\n});"}],"formMethods":[{"value":"setMultipleValuesInDropDown","code":"(function setMultipleValuesInDropDown() {\n    \n    if ($formData$.malariaIndexDetails.sprayable_surface) {\n        $formData$.malariaIndexDetails.sprayable_surface = $formData$.malariaIndexDetails?.sprayable_surface?.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.non_sprayable_surface) {\n        $formData$.malariaIndexDetails.non_sprayable_surface = $formData$.malariaIndexDetails?.non_sprayable_surface?.split('','');\n    }\n    \n    if ($formData$.malariaIndexDetails.patient_showing_signs) {\n        $formData$.malariaIndexDetails.patient_showing_signs = $formData$.malariaIndexDetails?.patient_showing_signs?.split('','');\n    }\n\t\n\tif($formData$.malariaIndexDetails.patient_experiencing_signs){\n\t    $formData$.malariaIndexDetails.patient_experiencing_signs = $formData$.malariaIndexDetails?.patient_experiencing_signs?.split('','');\n\t}\n});"},{"value":"setImmunisationStatus","code":"(function setImmunisationStatus() {\n\tconst dobDate = new Date($infoData$.memberDetails.dob);\n    const currentDate = new Date();\n    \n    let age = currentDate.getFullYear() - dobDate.getFullYear();\n    const monthDiff = currentDate.getMonth() - dobDate.getMonth();\n    const dayDiff = currentDate.getDate() - dobDate.getDate();\n    \n    if (monthDiff < 0 || (monthDiff === 0 && dayDiff < 0)) {\n        age--;\n    }\n\n    if (age < 1) {\n        $infoData$.memberDetails.immunisation_status = ''Not fully immunised''\n    } else if (age >= 1 && age <= 2) {\n        $infoData$.memberDetails.immunisation_status = $utilityData$.isChildImmunisedInOneYear ? ''Fully immunised'' : ''Not fully immunised''\n    } else {\n        $infoData$.memberDetails.immunisation_status = $utilityData$.isChildImmunisedInTwoYear ? ''Fully immunised'' : ''Not fully immunised''\n    }\n});"},{"value":"handleSprayableSurfaceChange","code":"(function handleSprayableSurfaceChange() {\n\tif ($formData$.malariaIndexDetails?.sprayable_surface?.length > 0\n        && $formData$.malariaIndexDetails?.sprayable_surface?.includes(''NON_APPLICABLE'')) {\n        $formData$.malariaIndexDetails.sprayable_surface = [''NON_APPLICABLE''];\n    }\n});"},{"value":"handleNonSprayableSurfaceChange","code":"(function handleNonSprayableSurfaceChange() {\n\tif ($formData$.malariaIndexDetails?.non_sprayable_surface?.length > 0\n        && $formData$.malariaIndexDetails?.non_sprayable_surface?.includes(''NON_APPLICABLE'')) {\n        $formData$.malariaIndexDetails.non_sprayable_surface = [''NON_APPLICABLE''];\n    }\n});"},{"value":"handleShowingSignsChange","code":"(function handleShowingSignsChange() {\n\tif ($formData$.malariaIndexDetails?.patient_showing_signs?.length > 0\n        && $formData$.malariaIndexDetails?.patient_showing_signs?.includes(''NONE'')) {\n        $formData$.malariaIndexDetails.patient_showing_signs = [''NONE''];\n    }\n});"},{"value":"handleExperienceSignsChange","code":"(function handleExperienceSignsChange() {\n\tif ($formData$.malariaIndexDetails?.patient_experiencing_signs?.length > 0\n        && $formData$.malariaIndexDetails?.patient_experiencing_signs?.includes(''NONE'')) {\n        $formData$.malariaIndexDetails.patient_experiencing_signs = [''NONE''];\n    }\n});"}],"formQueries":[{"value":"Get Member Details","queryCode":"get_member_details","params":"member_id","paramConfig":"{\"member_id\":\"$formData$.malariaIndexDetails.member_id\"}","query":"with hof_det as (\nselect im.mobile_number \nfrom imt_member im\nwhere im.family_id = (select family_id from imt_member where id = #member_id#)\nand im.family_head\n)\nselect \n\tim.id, im.unique_health_id, \n\tim.family_id, concat_ws('' '', im.first_name, im.middle_name, im.last_name) as member_name, \n\tim.dob, \n\t(select value from listvalue_field_value_detail where id = im.marital_status) as marital_status,\n    (select value \n\t from listvalue_field_value_detail \n\t where cast(id as text) = \n\t   case \n\t\t when if2.religion is not null then if2.religion\n\t\t when im.member_religion is not null then im.member_religion\n\t\t else null\n\t   end\n\t) as religion,\n\tcast(age(current_date, im.dob) as text) as age,\n\tim.nrc_number, \n\tim.last_method_of_contraception, im.lmp,\n\tcast(im.additional_info as json)->> ''hivTest'' as hiv_status,\n    (select string_agg(value, '', '')  from listvalue_field_value_detail lfvd \n    where cast(id as text) in (select unnest(string_to_array(im.chronic_disease,'','')))) as chronic_disease,\n    im.birth_cert_number,\n    im.mother_name,\n    im.birth_weight,\n    im.weight,\n    im.is_pregnant,\n    im.immunisation_given,\n    cast(im.additional_info as json)->> ''developmentalDelays'' as developmental_delay,\n    cast(im.additional_info as json)->> ''lastServiceLongGate'' as last_service_date,\n    (select mobile_number from hof_det) as family_phone_no,\n\tcase when im.gender = ''F'' then ''Female'' else ''Male'' end as gender,\n\tconcat_ws('' '', if2.house_number, if2.address1, if2.address2) as family_address,\n\tif2.area_id, if2.location_id,\n\tcast(im.additional_info as json)->> ''indexCase'' as is_index_case\nfrom \n\timt_member im \ninner join \n\timt_family if2 on im.family_id = if2.family_id \nwhere \n    im.id=#member_id#;","response":"$infoData$.memberDetails","isResultArray":null,"successMessage":null,"failureMessage":"Member details not found","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Get Malaria Index Details","queryCode":"get_malaria_index_details","params":"member_id","paramConfig":"{\"member_id\":\"$stateParams$.id\"}","query":"select\n    service_date,\n    was_visit_conducted,\n    sprayable_surface,\n    individuals_living,\n    non_sprayable_surface,\n    was_irs_conducted,\n    date_of_last_spray,\n    having_llin,\n    are_llin_hanging,\n    number_of_llins_hanging,\n    sleep_under_llin,\n    sleeping_in_sprayed_room,\n    days_passed_of_diagnosis,\n    patient_adhered_to_treatment,\n    day_of_treatment,\n    where_evidence_is_seen,\n    temperature,\n    were_you_referred,\n    went_to_referral_place,\n    CASE\n        WHEN other_showing_signs IS NOT NULL THEN CASE\n            WHEN patient_showing_signs IS NOT NULL THEN patient_showing_signs || '',OTHER''\n            ELSE ''OTHER''\n        END\n        ELSE patient_showing_signs\n    END AS patient_showing_signs,\n    CASE\n        WHEN other_exp_signs IS NOT NULL THEN CASE\n            WHEN patient_experiencing_signs IS NOT NULL THEN patient_experiencing_signs || '',OTHER''\n            ELSE ''OTHER''\n        END\n        ELSE patient_experiencing_signs\n    END AS patient_experiencing_signs,\n    was_dbs_collected,\n    other_showing_signs,\n    blood_spot_result,\n    blood_splot_value,\n    member_id\nfrom\n    malaria_index_case_details micd\nwhere\n    id=#member_id#;","response":"$formData$.malariaIndexDetails","isResultArray":null,"successMessage":null,"failureMessage":"Screening records not found","isResponseMandatory":true,"isField":null,"isPagination":false}]}',
	'[{"type":"FORM_QUERY","value":"Get Malaria Index Details"},{"type":"FORM_QUERY","value":"Get Member Details"},{"type":"FORM_VARIABLE_SETTER","value":"isChildImmunisedInOneYear","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"isChildImmunisedInTwoYear","continueIfFail":true},{"type":"FORM_METHOD","value":"setImmunisationStatus","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minServiceDate","continueIfFail":true},{"type":"FORM_METHOD","value":"setMultipleValuesInDropDown","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minSprayDate","continueIfFail":true}]',
	'[{"queryCode":"update_malaria_index_Details","hasLoop":null,"queryPath":"$formData$.malariaIndexDetails","subQueries":[],"params":[{"key":"service_date","type":"FIELD","valueKey":"service_date"},{"key":"was_visit_conducted","type":"FIELD","valueKey":"was_visit_conducted"},{"key":"sprayable_surface","type":"FIELD","valueKey":"sprayable_surface"},{"key":"individuals_living","type":"FIELD","valueKey":"individuals_living"},{"key":"non_sprayable_surface","type":"FIELD","valueKey":"non_sprayable_surface"},{"key":"was_irs_conducted","type":"FIELD","valueKey":"was_irs_conducted"},{"key":"date_of_last_spray","type":"FIELD","valueKey":"date_of_last_spray"},{"key":"having_llin","type":"FIELD","valueKey":"having_llin"},{"key":"are_llin_hanging","type":"FIELD","valueKey":"are_llin_hanging"},{"key":"number_of_llins_hanging","type":"FIELD","valueKey":"number_of_llins_hanging"},{"key":"sleep_under_llin","type":"FIELD","valueKey":"sleep_under_llin"},{"key":"sleeping_in_sprayed_room","type":"FIELD","valueKey":"sleeping_in_sprayed_room"},{"key":"days_passed_of_diagnosis","type":"FIELD","valueKey":"days_passed_of_diagnosis"},{"key":"patient_adhered_to_treatment","type":"FIELD","valueKey":"patient_adhered_to_treatment"},{"key":"day_of_treatment","type":"FIELD","valueKey":"day_of_treatment"},{"key":"where_evidence_is_seen","type":"FIELD","valueKey":"where_evidence_is_seen"},{"key":"temperature","type":"FIELD","valueKey":"temperature"},{"key":"were_you_referred","type":"FIELD","valueKey":"were_you_referred"},{"key":"went_to_referral_place","type":"FIELD","valueKey":"went_to_referral_place"},{"key":"patient_showing_signs","type":"FIELD","valueKey":"patient_showing_signs"},{"key":"patient_experiencing_signs","type":"FIELD","valueKey":"patient_experiencing_signs"},{"key":"other_exp_signs","type":"FIELD","valueKey":"other_exp_signs"},{"key":"was_dbs_collected","type":"FIELD","valueKey":"was_dbs_collected"},{"key":"other_showing_signs","type":"FIELD","valueKey":"other_showing_signs"},{"key":"blood_spot_result","type":"FIELD","valueKey":"blood_spot_result"},{"key":"blood_splot_value","type":"FIELD","valueKey":"blood_splot_value"},{"key":"member_id","type":"META_DATA","valueKey":"$formData$.malariaIndexDetails.member_id"}],"isEventResource":null,"$$hashKey":"object:567","queryName":"Update malaria index details","query":"with updated_data as (\nupdate malaria_index_case_details\nset service_date=#service_date#,\nwas_visit_conducted=#was_visit_conducted#,\nsprayable_surface = #sprayable_surface#,\nindividuals_living =#individuals_living#,\nnon_sprayable_surface=#non_sprayable_surface#,\nwas_irs_conducted=#was_irs_conducted#,\ndate_of_last_spray=#date_of_last_spray#,\nhaving_llin=#having_llin#,\nare_llin_hanging=#are_llin_hanging#,\nnumber_of_llins_hanging=#number_of_llins_hanging#,\nsleep_under_llin = #sleep_under_llin#,\nsleeping_in_sprayed_room=#sleeping_in_sprayed_room#,\ndays_passed_of_diagnosis=#days_passed_of_diagnosis#,\npatient_adhered_to_treatment=#patient_adhered_to_treatment#,\nday_of_treatment=#day_of_treatment#,\nwhere_evidence_is_seen=#where_evidence_is_seen#,\ntemperature=#temperature#,\nwere_you_referred=#were_you_referred#,\nwent_to_referral_place = #went_to_referral_place#,\npatient_showing_signs=CASE \n            WHEN #patient_showing_signs# LIKE ''%NONE%'' THEN NULL\n            ELSE NULLIF(\n                TRIM(BOTH '','' FROM REPLACE(#patient_showing_signs#, ''OTHER'', '''')), ''''\n            ) \n        END,\npatient_experiencing_signs=CASE \n            WHEN #patient_experiencing_signs# LIKE ''%NONE%'' THEN NULL\n            ELSE NULLIF(\n                TRIM(BOTH '','' FROM REPLACE(#patient_experiencing_signs#, ''OTHER'', '''')), ''''\n            ) \n        END,\nother_exp_signs=#other_exp_signs#,\nwas_dbs_collected=#was_dbs_collected#,\nother_showing_signs=#other_showing_signs#,\nblood_spot_result=#blood_spot_result#,\nblood_splot_value=#blood_splot_value#,\nmodified_by = #loggedInUserId#,\nmodified_on = now()\nwhere member_id=#member_id#\nreturning malaria_index_case_details.id\n)\nselect id from updated_data;"}]'
ON CONFLICT (form_master_uuid, "version")
DO UPDATE
SET
	form_master_uuid=EXCLUDED.form_master_uuid,
	template_config=EXCLUDED.template_config,
	field_config=EXCLUDED.field_config,
	"version"=EXCLUDED."version",
	created_by=EXCLUDED.created_by,
	created_on=EXCLUDED.created_on,
	modified_by=EXCLUDED.modified_by,
	modified_on=EXCLUDED.modified_on,
	form_object=EXCLUDED.form_object,
	template_css=EXCLUDED.template_css,
	form_vm=EXCLUDED.form_vm,
	execution_sequence=EXCLUDED.execution_sequence,
	query_config=EXCLUDED.query_config;