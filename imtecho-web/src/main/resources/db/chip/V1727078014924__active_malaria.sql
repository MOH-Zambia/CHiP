with insert_into_medplat_form_master as (
	INSERT INTO medplat_form_master
	("uuid", form_name, form_code, current_version, state, created_by, created_on, modified_by, modified_on, menu_config_id)
	SELECT
		'f55eddce-b55d-4f9e-8ed9-3de715b1fe7a',
		'Active Malaria',
		'ACTIVE_MALARIA',
		'1',
		'ACTIVE',
		97104,
		now(),
		97104,
		now(),
		393
	ON CONFLICT (form_code)
	DO UPDATE
	SET
		uuid=EXCLUDED."uuid",
		form_name=EXCLUDED.form_name,
		current_version=cast(cast(coalesce((select max(cast(medplat_form_version_history.version as integer)) from medplat_form_master inner join medplat_form_version_history on medplat_form_master.uuid  = medplat_form_version_history.form_master_uuid where medplat_form_master.form_code = EXCLUDED.form_code and medplat_form_version_history.version <> 'DRAFT'),'0') as integer) + 1 as text),
		state=EXCLUDED.state,
		created_by=EXCLUDED.created_by,
		created_on=EXCLUDED.created_on,
		modified_by=EXCLUDED.modified_by,
		modified_on=EXCLUDED.modified_on,
		menu_config_id=EXCLUDED.menu_config_id
	returning medplat_form_master.current_version
)
INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'59dfde89-7944-41a5-9658-e477d8c1f9df',
	'f55eddce-b55d-4f9e-8ed9-3de715b1fe7a',
	'[{"type":"CARD","config":{"title":"Member Information","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"word-wrap : \"break-word\""}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_weight","fieldName":"Birth Weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"weight","fieldName":"Latest Weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp","fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_phone_no","fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_address","fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"mother_name","fieldName":"Mother Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"breakword"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"developmental_delay","fieldName":"Developmental Delay","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"immunisation_given","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"Screening Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"service_date","fieldName":"Service Date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"rdt_test_status","fieldName":"RDT status","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_index_case","fieldName":"Index case","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"symptoms","fieldName":"Symptoms","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_symptoms","fieldName":"Other symptoms","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"having_travel_history","fieldName":"Travel history","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"malaria_treatment_history","fieldName":"Malaria Treatment History","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_treatment_being_given","fieldName":"Is treatment being given","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"treatment_given","fieldName":"Specify treatment","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_iec_given","fieldName":"IEC given","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"started_menstruating","fieldName":"Started menstruating","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_referral_done","fieldName":"Is referral required","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_place","fieldName":"User health facility","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_place","fieldName":"Health infrastructure","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_reason","fieldName":"Referral reason","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_reason","fieldName":"Other referral reason","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"ACTIVE_MALARIA":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":false,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":false,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LMP":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp","fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female''\"},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"date","displayValue":"LMP"},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Gender"},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Religion"},"Symptoms":{"label":"Symptoms","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Malaria symptoms","fieldKey":"symptoms","hasError":false,"isHidden":"false","showCard":false,"fieldName":"Symptoms","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"listValueField","placeholder":"-- Select --","showContent":false,"staticOptions":"[{\"value\":\"Other\",\"key\":\"other\"}]","listValueField":"malariaSymptoms","requiredMessage":"Please select malaria symptoms","errorMsgListKeys":[],"additionalStaticOptionsRequired":"true"},"IEC given":{"label":"Is IEC given ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Information, Education and Communication","fieldKey":"is_iec_given","hasError":false,"isHidden":"false","showCard":false,"fieldName":"IEC given","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"IEC given","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Please select option","errorMsgListKeys":[]},"Member ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":false,"fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"Death date":{"label":"Death date","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Death date","fieldKey":"death_date","hasError":false,"isHidden":"false","showCard":false,"fieldName":"Death date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"false","requirable":"null","visibility":"null","placeholder":"Death date","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minDeathDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Enter death date","errorMsgListKeys":[]},"Index case":{"label":"Is index case?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Is index case ?","fieldKey":"is_index_case","isHidden":"false","fieldName":"Index case","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is index case ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"NRC Number"},"RDT status":{"label":"RDT (Rapid Diagnostic Test) status","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Rapid diagnostic test","fieldKey":"rdt_test_status","hasError":false,"isHidden":"false","showCard":false,"fieldName":"RDT status","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- select --","showContent":false,"staticOptions":"[{\"key\":\"NOT_DONE\",\"value\":\"Not done\"},{\"key\":\"POSITIVE\",\"value\":\"Positive\"},{\"key\":\"NEGATIVE\",\"value\":\"Negative\"}]","requiredMessage":"Select RDT test status","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"HIV Display":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"HIV Display"},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":false,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Mother Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"mother_name","fieldName":"Mother Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Mother Name"},"Birth Weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_weight","fieldName":"Birth Weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth Weight"},"Service Date":{"label":"Service Date","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Service date","fieldKey":"service_date","hasError":false,"isHidden":"false","showCard":false,"fieldName":"Service Date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Service date","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minServiceDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Please enter service date","errorMsgListKeys":[]},"Latest Weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"weight","fieldName":"Latest Weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Latest Weight"},"Family Address":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_address","fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Family Address"},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Marital Status"},"Other symptoms":{"label":"Other symptoms","events":"{\"Change\":{\"actions\":[{\"type\":\"LOAD_FIELD\",\"value\":\"Other symptoms\"}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaDetails","tooltip":"Other symptoms","fieldKey":"other_symptoms","isHidden":"false","fieldName":"Other symptoms","fieldType":"SHORT_TEXT","maxLength":"99","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"OTHER\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.symptoms\",\"queryCode\":null,\"expression\":null}]}}","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaDetails.symptoms.includes(''OTHER'')\"}]}}","placeholder":"--other symptoms--","requiredMessage":"Please enter other symptoms"},"Travel history":{"label":"Travel history ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Does the patient have travel history ?","fieldKey":"having_travel_history","isHidden":"false","fieldName":"Travel history","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''NOT_DONE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"!$utilityData$.potentialMalaria\"}]}}]}}","optionsType":"staticOptions","placeholder":"travel history","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select travel history"},"Referral reason":{"label":"Referral reason","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Referral reason","fieldKey":"referral_for","isHidden":"false","fieldName":"Referral reason","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_referral_done\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaDetails.referral_for !== null\"}]}}","optionsType":"listValueField","placeholder":"-- select --","staticOptions":"[{\"key\":\"OTHER\",\"value\":\"Other\"}]","listValueField":"referalReasonNonRch","requiredMessage":"Please select referral reason","additionalStaticOptionsRequired":"true"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Chronic Diseases"},"Family Phone No.":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_phone_no","fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Family Phone No."},"Specify treatment":{"label":"Specify treatment","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Specify treatment","fieldKey":"treatment_given","isHidden":"false","fieldName":"Specify treatment","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_treatment_being_given\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- select --","staticOptions":"[{\"key\":\"AMD\",\"value\":\"Anti Malarial Drug\"},{\"key\":\"PAIN_KILLER\",\"value\":\"Pain Killer\"},{\"key\":\"ORS\",\"value\":\"ORS\"}]","requiredMessage":"Specify treatment","additionalStaticOptionsRequired":"false"},"Developmental Delay":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"developmental_delay","fieldName":"Developmental Delay","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.developmental_delay\"}]}}","displayType":"text","displayValue":"Developmental Delay"},"Immunisation Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"immunisation_given","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.immunisation_given\"}]}}","displayType":"text","displayValue":"Immunisation Status"},"Is referral required":{"label":"Is referral required ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Is referral required ?","fieldKey":"is_referral_done","isHidden":"false","fieldName":"Is referral required","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"!$utilityData$.potentialMalaria\"}]}},{\"type\":\"FIELD\",\"operator\":\"NQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is referral required ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select is referral required"},"Started menstruating":{"label":"Has the person started menstruating ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Has the person started menstruating ?","fieldKey":"started_menstruating","isHidden":"false","fieldName":"Started menstruating","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"false","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && ($formData$.malariaDetails.rdt_test_status !== ''POSITIVE'') && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50) && ($formData$.memberDetails.lmp_date === null)\"},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && !$utilityData$.potentialMalaria && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50) && ($formData$.memberDetails.lmp_date === null)\"}]}}]}}","optionsType":"staticOptions","placeholder":"Has the person started menstruating ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":null},"User health facility":{"events":"null","ngModel":"$formData$.malariaDetails","fieldKey":"referral_place","fieldName":"User health facility","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"!!$utilityData$.userHealthInfra.user_hf\"},{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_referral_done\",\"queryCode\":null,\"expression\":null},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$utilityData$.potentialMalaria\",\"queryCode\":null,\"expression\":null}]}}]}}]}}","displayType":"text","displayValue":"You will be referred to following health facility"},"Health infrastructure":{"label":"Health infrastructure","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Select health infrastructure","fieldKey":"referral_place","isHidden":"false","fieldName":"Health infrastructure","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_referral_done\",\"queryCode\":null,\"expression\":null},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$utilityData$.potentialMalaria\",\"queryCode\":null,\"expression\":null}]}}]}}","optionsType":"variableList","placeholder":"-- select --","variableList":"$utilityData$.healthInfraList","staticOptions":null,"requiredMessage":"Please search and select health infrastructure","additionalStaticOptionsRequired":"false"},"Other referral reason":{"label":"Other referral reason","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Other referral reason","fieldKey":"referral_reason","isHidden":"false","fieldName":"Other referral reason","fieldType":"SHORT_TEXT","maxLength":"100","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''OTHER''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.referral_for\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Other referral reason","requiredMessage":"Please enter other referral reason"},"Birth certificate number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth certificate number"},"Is treatment being given":{"label":"Is treatment being given ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Is treatment being given ?","fieldKey":"is_treatment_being_given","isHidden":"false","fieldName":"Is treatment being given","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"NQ\",\"value1\":\"null\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.malaria_treatment_history\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"treatment being given","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select is treatment being given"},"Malaria Treatment History":{"label":"Malaria Treatment History ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Malaria Treatment History ?","fieldKey":"malaria_treatment_history","isHidden":"false","fieldName":"Malaria Treatment History","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaDetails.having_travel_history !== null\"}]}}","optionsType":"staticOptions","placeholder":"malaria treatment history","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select treatment history"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Last method of contraception"},"LMP (Last Menstrual Period) date":{"label":"LMP date","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"LMP date","fieldKey":"lmp_date","isHidden":"false","fieldName":"LMP (Last Menstrual Period) date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && ($formData.malariaDetails.rdt_test_status !== ''POSITIVE'') && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50)\"},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && (!$utilityData$.potentialMalaria) && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50)\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null}]}}]}}","placeholder":"LMP date","maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minLmpDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Select lmp date"}}}',
	current_version,
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"malariaDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:3456","path":"$formData$.malariaDetails","backendConfigPath":"$formData$.malariaDetails","isArray":false}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:1087"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1150","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"},{"title":"userHealthInfra","nodes":[],"indexAlias":null,"$$hashKey":"object:16811","path":"$infoData$.userHealthInfra","backendConfigPath":"$infoData$.userHealthInfra"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:1088"}]',
	'breakword {
    width: auto;
    white-space: inherit;
    word-wrap: break-word;
}',
	'{"formVariables":[{"value":"minServiceDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinServiceDate","setterMethodCode":"(function setMinServiceDate() {\n    $utilityData$.minServiceDate = $formData$.malariaDetails.service_date && moment($formData$.malariaDetails.service_date).isAfter(moment().subtract(9, ''months'')) ? moment($formData$.malariaDetails.service_date).add(1, ''day'') : moment().subtract(9, ''months'');\n\t\n});"},{"value":"minLmpDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinLmpDate","setterMethodCode":"(function setMinLmpDate() {\n\n$utilityData$.minLmpDate = $infoData$.memberDetails.is_pregnant ? moment().subtract(9, ''months'') : moment().subtract(35, ''days'');\n\n});"},{"value":"userHealthInfra","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setUserHealthInfra","setterMethodCode":"(function setUserHealthInfra() {\n    \n\t/**\n\t* Setter method for $utilityData$.userHealthInfra (NUMBER)\n\t* Please see example below on how to set the value\n\t* $utilityData$.userHealthInfra = xxx;\n\t* You can use the available parameters\n\t*/\n\t\n});"},{"value":"minDeathDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinDeathDate","setterMethodCode":"(function setMinDeathDate() {\n    \n    $utilityData$.minDeathDate = $formData$.malariaDetails.service_date;\n\t\n});"},{"value":"healthInfraList","type":"ARRAY","bindTo":"$utilityData$","setter":true,"setterMethodName":"setHealthInfraList","setterMethodCode":"(function setHealthInfraList() {\n    \n\t/**\n\t* Setter method for $utilityData$.healthInfraList (ARRAY)\n\t* Please see example below on how to set the value\n\t* $utilityData$.healthInfraList = xxx;\n\t* You can use the available parameters\n\t*/\n\t\n});"},{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n    \n    let ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = 0;\n    if (ageParts.length < 6) {\n        years = 0\n    }\n    else {\n        years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    }\n    $utilityData$.ageInYears = years;\n});"},{"value":"potentialMalaria","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setPotentialMalaria","setterMethodCode":"(function setPotentialMalaria() {\n    \n$utilityData$.potentialMalaria = $infoData$.is_pregnant || $utilityData$.ageInYears <5 || $utilityData$.ageInYears > 65;\n});"}],"formMethods":[{"value":"setSymptoms","code":"(function setSymptoms() {\n\t$formData$.malariaDetails.symptoms = $formData$.malariaDetails.symptoms.split('','').map(data => parseInt(data));\n});"}],"formQueries":[{"value":"Fetch member details","queryCode":"fetch_mem_details","params":"memberId","paramConfig":"{\"memberId\":\"$formData$.malariaDetails.member_id\"}","query":"with hof_det as (\nselect im.mobile_number \nfrom imt_member im\nwhere im.family_id = (select family_id from imt_member where id = #memberId#)\nand im.family_head\n)\nselect im.unique_health_id,\nconcat_ws('' '',im.first_name,im.middle_name,im.last_name) as member_name,\ncast(age(im.dob) as text) as age,\nim.dob,\ncase when im.gender = ''F'' then ''Female'' else ''Male'' end as gender,\t\nim.nrc_number,\n(select value from listvalue_field_value_detail where id = im.marital_status) as marital_status,\n(select value from listvalue_field_value_detail where cast(id as text) = im.religion) as religion,\ncase when im.last_method_of_contraception = ''NATURAL_METHODS'' then ''Natural methods''\nwhen im.last_method_of_contraception = ''ORALPILLS'' or im.last_method_of_contraception = ''ORAL_PILLS'' then ''Oral pills''\nwhen im.last_method_of_contraception = ''IUCD5'' then ''IUCD 5 years''\nwhen im.last_method_of_contraception = ''IUCD10'' then ''IUCD 10 years''\nwhen im.last_method_of_contraception = ''STERILIZATION'' then ''Sterilization''\nwhen im.last_method_of_contraception = ''CONDOM'' then ''Condom''\nwhen im.last_method_of_contraception = ''MLSTR'' then ''Male sterilization''\nwhen im.last_method_of_contraception = ''CONTRA'' then ''Emergency Contraceptive Pills''\nwhen im.last_method_of_contraception = ''INJECTABLES'' then ''Injectables''\nwhen im.last_method_of_contraception = ''BARRIER_METHOD'' then ''Barrier Method''\nwhen im.last_method_of_contraception = ''CHHAYA'' then ''Chhaya''\nwhen im.last_method_of_contraception = ''ANTARA'' then ''Antara''\nelse im.last_method_of_contraception end as last_method_of_contraception,\nim.lmp,\ncast(im.additional_info as json)->> ''hivTest'' as hiv_status,\nim.chronic_disease,\nim.birth_cert_number,\nim.mother_name,\nim.birth_weight,\nim.weight,\nim.is_pregnant,\nim.immunisation_given,\ncast(im.additional_info as json)->> ''developmentalDelays'' as developmental_delay,\ncast(im.additional_info as json)->> ''lastServiceLongGate'' as last_service_date,\n(select mobile_number from hof_det) as family_phone_no,\nconcat_ws('' '',imf.house_number,imf.address1, imf.address2) as family_address\nfrom imt_member im \ninner join imt_family imf on imf.family_id = im.family_id    \nwhere im.id = #memberId#;","response":"$infoData$.memberDetails","isResultArray":false,"successMessage":null,"failureMessage":"Member not found.","isResponseMandatory":true,"isField":false,"isPagination":false,"toVariable":false},{"value":"Get member malaria details","queryCode":"get_mem_malaria_det","params":"malariaID","paramConfig":"{\"malariaID\":\"$stateParams$.id\"}","query":"select \nmd.id,\nmd.member_id,\nmd.service_date,\nmd.active_malaria_symptoms as symptoms,\nmd.other_malaria_symptoms,\nmd.rdt_test_status,\nmd.is_index_case,\nmd.having_travel_history,\nmd.malaria_treatment_history,\nmd.is_treatment_being_given,\nmd.treatment_given,\nmd.started_menstruating,\nmd.lmp_date,\ncase when md.is_referral_done = ''YES'' then true \nwhen md.is_referral_done = ''NO'' then false\nelse null end as is_referral_done,\nmd.referral_place,\ncase when md.referral_for is null \nand md.referral_reason is not null\nthen ''OTHER'' else md.referral_for end as referral_for,\nmd.referral_reason,\nmd.is_iec_given\nfrom malaria_details md \nwhere md.id = #malariaID#\nand malaria_type = ''ACTIVE''\norder by modified_on desc limit 1;","response":"$formData$.malariaDetails","isResultArray":null,"successMessage":null,"failureMessage":"Screening records not found","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Get User Health Infra","queryCode":"get_user_health_infra","params":"userID","paramConfig":"{\"userID\":\"$loggedInUserId$\"}","query":"select health_infrastrucutre_id from user_health_infrastructure where user_id = #userID# and is_default = true;","response":"$utilityData$.userHealthInfra","isResultArray":false,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":false,"isPagination":false,"toVariable":false},{"value":"Get health infra","queryCode":"get_health_infra","params":"","paramConfig":"{}","query":"select  h.name , h.id,h.type as type from health_infrastructure_details h;\n","response":"$utilityData$.healthInfraList","isResultArray":true,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":true,"isPagination":false,"dropdownKey":"id","dropdownValue":"name","toVariable":true}]}',
	'[{"type":"FORM_QUERY","value":"Get member malaria details","continueIfFail":false},{"type":"FORM_QUERY","value":"Fetch member details","continueIfFail":false},{"type":"FORM_VARIABLE_SETTER","value":"minServiceDate","continueIfFail":true},{"type":"FORM_METHOD","value":"setSymptoms","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minLmpDate","continueIfFail":true},{"type":"FORM_QUERY","value":"Get User Health Infra","continueIfFail":true},{"type":"FORM_QUERY","value":"Get health infra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"userHealthInfra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minDeathDate","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"healthInfraList","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"potentialMalaria","continueIfFail":true}]',
	'[{"queryCode":"update_active_malaria_scr_det","hasLoop":null,"queryPath":"$formData$.malariaDetails","subQueries":[],"params":[{"key":"symptoms","type":"FIELD","valueKey":"symptoms"},{"key":"rdt_test_status","type":"FIELD","valueKey":"rdt_test_status"},{"key":"having_travel_history","type":"FIELD","valueKey":"having_travel_history"},{"key":"malaria_treatment_history","type":"FIELD","valueKey":"malaria_treatment_history"},{"key":"is_treatment_being_given","type":"FIELD","valueKey":"is_treatment_being_given"},{"key":"referral_place","type":"META_DATA","valueKey":"$formData$.malariaDetails.referral_place"},{"key":"other_symptoms","type":"FIELD","valueKey":"other_symptoms"},{"key":"is_referral_done","type":"FIELD","valueKey":"is_referral_done"},{"key":"referral_for","type":"FIELD","valueKey":"referral_for"},{"key":"referral_reason","type":"FIELD","valueKey":"referral_reason"},{"key":"started_menstruating","type":"FIELD","valueKey":"started_menstruating"},{"key":"lmp_date","type":"FIELD","valueKey":"lmp_date"},{"key":"is_iec_given","type":"FIELD","valueKey":"is_iec_given"},{"key":"is_index_case","type":"FIELD","valueKey":"is_index_case"},{"key":"treatment_given","type":"FIELD","valueKey":"treatment_given"},{"key":"malaria_details_id","type":"META_DATA","valueKey":"$formData$.malariaDetails.id"}],"isEventResource":null,"$$hashKey":"object:33738","queryName":"Update active malaria details","query":"with update_data as (\nupdate malaria_details \nset active_malaria_symptoms = #symptoms#,\nrdt_test_status = #rdt_test_status#,\nhaving_travel_history = #having_travel_history#,\nmalaria_treatment_history = #malaria_treatment_history#,\nis_treatment_being_given = #is_treatment_being_given#,\nreferral_place = #referral_place#,\nmodified_by = #loggedInUserId#,\nmodified_on = now(),\nother_malaria_symptoms = #other_symptoms#,\nis_referral_done = case when #is_referral_done# is true then ''YES'' else ''NO'' end,\nreferral_for = #referral_for#,\nreferral_reason = #referral_reason#,\nstarted_menstruating = #started_menstruating#,\nlmp_date = #lmp_date#,\nis_iec_given = #is_iec_given#,\nis_index_case = #is_index_case#,\ntreatment_given = #treatment_given#\nwhere id = #malaria_details_id#\nreturning malaria_details.id\n)select id from update_data;"}]'
FROM insert_into_medplat_form_master;


INSERT INTO medplat_form_version_history
("uuid", form_master_uuid, template_config, field_config, "version", created_by, created_on, modified_by, modified_on, form_object, template_css, form_vm, execution_sequence, query_config)
SELECT
	'506e8572-79fe-402e-9ddd-9fec64513e08',
	'f55eddce-b55d-4f9e-8ed9-3de715b1fe7a',
	'[{"type":"CARD","config":{"title":"Member Information","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"unique_health_id","fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"member_name","fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"dob","fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"age","fieldName":"Age","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"word-wrap : \"break-word\""}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"birth_weight","fieldName":"Birth Weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"weight","fieldName":"Latest Weight","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp","fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_phone_no","fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"family_address","fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"mother_name","fieldName":"Mother Name","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"labelCssClasses":"breakword"}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"developmental_delay","fieldName":"Developmental Delay","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"immunisation_given","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]},{"type":"CARD","config":{"title":"Screening Details","size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null,"isCollapsible":false},"elements":[{"type":"ROW","config":{"size":"12","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"service_date","fieldName":"Service Date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"rdt_test_status","fieldName":"RDT status","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_index_case","fieldName":"Index case","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"symptoms","fieldName":"Symptoms","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"other_symptoms","fieldName":"Other symptoms","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"having_travel_history","fieldName":"Travel history","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"malaria_treatment_history","fieldName":"Malaria Treatment History","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_treatment_being_given","fieldName":"Is treatment being given","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"treatment_given","fieldName":"Specify treatment","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_iec_given","fieldName":"IEC given","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]},{"type":"COL","config":{"size":"6","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null},"elements":[{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"started_menstruating","fieldName":"Started menstruating","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"lmp_date","fieldName":"LMP (Last Menstrual Period) date","fieldType":"DATE","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"is_referral_done","fieldName":"Is referral required","fieldType":"RADIO","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_place","fieldName":"User health facility","fieldType":"INFORMATION_DISPLAY","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_place","fieldName":"Health infrastructure","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_reason","fieldName":"Referral reason","fieldType":"DROPDOWN","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}},{"type":"TECHO_FORM_FIELD","elements":[],"isAdded":false,"config":{"fieldKey":"referral_reason","fieldName":"Other referral reason","fieldType":"SHORT_TEXT","cssStyles":null,"cssClasses":null,"isRepeatable":false,"showAddRemoveButton":false,"ngModel":null,"isConditional":false,"ngIf":null}}]}]}]}]',
	'{"ACTIVE_MALARIA":{"Age":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"age","hasError":false,"showCard":false,"fieldName":"Age","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Age","errorMsgListKeys":[]},"DOB":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"dob","hasError":false,"showCard":false,"fieldName":"DOB","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"null","displayType":"date","showContent":false,"displayValue":"DOB","errorMsgListKeys":[]},"LMP":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"lmp","fieldName":"LMP","fieldType":"INFORMATION_DISPLAY","dateFormat":"dd/MM/yyyy","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female''\"},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"date","displayValue":"LMP"},"Gender":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"gender","fieldName":"Gender","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"GT\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Gender"},"Religion":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"religion","fieldName":"Religion","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Religion"},"Symptoms":{"label":"Symptoms","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Malaria symptoms","fieldKey":"symptoms","hasError":false,"isHidden":"false","showCard":false,"fieldName":"Symptoms","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"true","isRequired":"true","requirable":"null","visibility":"null","optionsType":"listValueField","placeholder":"-- Select --","showContent":false,"staticOptions":"[{\"value\":\"Other\",\"key\":\"other\"}]","listValueField":"malariaSymptoms","requiredMessage":"Please select malaria symptoms","errorMsgListKeys":[],"additionalStaticOptionsRequired":"true"},"IEC given":{"label":"Is IEC given ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Information, Education and Communication","fieldKey":"is_iec_given","hasError":false,"isHidden":"false","showCard":false,"fieldName":"IEC given","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"IEC given","showContent":false,"staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Please select option","errorMsgListKeys":[]},"Member ID":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"unique_health_id","hasError":false,"showCard":false,"fieldName":"Member ID","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member ID","errorMsgListKeys":[]},"Death date":{"label":"Death date","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Death date","fieldKey":"death_date","hasError":false,"isHidden":"false","showCard":false,"fieldName":"Death date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"false","requirable":"null","visibility":"null","placeholder":"Death date","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minDeathDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Enter death date","errorMsgListKeys":[]},"Index case":{"label":"Is index case?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Is index case ?","fieldKey":"is_index_case","isHidden":"false","fieldName":"Index case","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is index case ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select option"},"NRC Number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"nrc_number","fieldName":"NRC Number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"NRC Number"},"RDT status":{"label":"RDT (Rapid Diagnostic Test) status","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Rapid diagnostic test","fieldKey":"rdt_test_status","hasError":false,"isHidden":"false","showCard":false,"fieldName":"RDT status","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"null","optionsType":"staticOptions","placeholder":"-- select --","showContent":false,"staticOptions":"[{\"key\":\"NOT_DONE\",\"value\":\"Not done\"},{\"key\":\"POSITIVE\",\"value\":\"Positive\"},{\"key\":\"NEGATIVE\",\"value\":\"Negative\"}]","requiredMessage":"Select RDT test status","errorMsgListKeys":[],"additionalStaticOptionsRequired":"false"},"HIV Display":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"hiv_status","fieldName":"HIV Display","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"HIV Display"},"Member Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"member_name","hasError":false,"showCard":false,"fieldName":"Member Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"null","displayType":"text","showContent":false,"displayValue":"Member Name","errorMsgListKeys":[]},"Mother Name":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"mother_name","fieldName":"Mother Name","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Mother Name"},"Birth Weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_weight","fieldName":"Birth Weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth Weight"},"Service Date":{"label":"Service Date","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Service date","fieldKey":"service_date","hasError":false,"isHidden":"false","showCard":false,"fieldName":"Service Date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"null","placeholder":"Service date","showContent":false,"maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minServiceDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Please enter service date","errorMsgListKeys":[]},"Latest Weight":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"weight","fieldName":"Latest Weight","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LT\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Latest Weight"},"Family Address":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_address","fieldName":"Family Address","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Family Address"},"Marital Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"marital_status","fieldName":"Marital Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Marital Status"},"Other symptoms":{"label":"Other symptoms","events":"{\"Change\":{\"actions\":[{\"type\":\"LOAD_FIELD\",\"value\":\"Other symptoms\"}]},\"Blur\":{\"actions\":[]},\"MouseEnter\":{\"actions\":[]},\"MouseLeave\":{\"actions\":[]},\"KeyPress\":{\"actions\":[]},\"KeyUp\":{\"actions\":[]},\"KeyDown\":{\"actions\":[]},\"Click\":{\"actions\":[]}}","ngModel":"$formData$.malariaDetails","tooltip":"Other symptoms","fieldKey":"other_symptoms","isHidden":"false","fieldName":"Other symptoms","fieldType":"SHORT_TEXT","maxLength":"99","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"OTHER\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.symptoms\",\"queryCode\":null,\"expression\":null}]}}","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaDetails.symptoms.includes(''OTHER'')\"}]}}","placeholder":"--other symptoms--","requiredMessage":"Please enter other symptoms"},"Travel history":{"label":"Travel history ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Does the patient have travel history ?","fieldKey":"having_travel_history","isHidden":"false","fieldName":"Travel history","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''NOT_DONE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"!$utilityData$.potentialMalaria\"}]}}]}}","optionsType":"staticOptions","placeholder":"travel history","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select travel history"},"Referral reason":{"label":"Referral reason","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Referral reason","fieldKey":"referral_for","isHidden":"false","fieldName":"Referral reason","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_referral_done\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaDetails.referral_for !== null\"}]}}","optionsType":"listValueField","placeholder":"-- select --","staticOptions":"[{\"key\":\"OTHER\",\"value\":\"Other\"}]","listValueField":"referalReasonNonRch","requiredMessage":"Please select referral reason","additionalStaticOptionsRequired":"true"},"Chronic Diseases":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"chronic_disease","fieldName":"Chronic Diseases","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Chronic Diseases"},"Family Phone No.":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"family_phone_no","fieldName":"Family Phone No.","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Family Phone No."},"Specify treatment":{"label":"Specify treatment","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Specify treatment","fieldKey":"treatment_given","isHidden":"false","fieldName":"Specify treatment","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_treatment_being_given\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"-- select --","staticOptions":"[{\"key\":\"AMD\",\"value\":\"Anti Malarial Drug\"},{\"key\":\"PAIN_KILLER\",\"value\":\"Pain Killer\"},{\"key\":\"ORS\",\"value\":\"ORS\"}]","requiredMessage":"Specify treatment","additionalStaticOptionsRequired":"false"},"Developmental Delay":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"developmental_delay","fieldName":"Developmental Delay","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.developmental_delay\"}]}}","displayType":"text","displayValue":"Developmental Delay"},"Immunisation Status":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"immunisation_given","fieldName":"Immunisation Status","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.immunisation_given\"}]}}","displayType":"text","displayValue":"Immunisation Status"},"Is referral required":{"label":"Is referral required ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Is referral required ?","fieldKey":"is_referral_done","isHidden":"false","fieldName":"Is referral required","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"!$utilityData$.potentialMalaria\"}]}},{\"type\":\"FIELD\",\"operator\":\"NQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"Is referral required ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select is referral required"},"Started menstruating":{"label":"Has the person started menstruating ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Has the person started menstruating ?","fieldKey":"started_menstruating","isHidden":"false","fieldName":"Started menstruating","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"false","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && ($formData$.malariaDetails.rdt_test_status !== ''POSITIVE'') && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50) && ($formData$.memberDetails.lmp_date === null)\"},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && !$utilityData$.potentialMalaria && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50) && ($formData$.memberDetails.lmp_date === null)\"}]}}]}}","optionsType":"staticOptions","placeholder":"Has the person started menstruating ?","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":null},"User health facility":{"events":"null","ngModel":"$formData$.malariaDetails","fieldKey":"referral_place","fieldName":"User health facility","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"!!$utilityData$.userHealthInfra.user_hf\"},{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_referral_done\",\"queryCode\":null,\"expression\":null},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$utilityData$.potentialMalaria\",\"queryCode\":null,\"expression\":null}]}}]}}]}}","displayType":"text","displayValue":"You will be referred to following health facility"},"Health infrastructure":{"label":"Health infrastructure","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Select health infrastructure","fieldKey":"referral_place","isHidden":"false","fieldName":"Health infrastructure","fieldType":"DROPDOWN","disability":"null","isDisabled":"false","isMultiple":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.is_referral_done\",\"queryCode\":null,\"expression\":null},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"EQWithType\",\"value1\":\"true\",\"value2\":null,\"fieldName\":\"$utilityData$.potentialMalaria\",\"queryCode\":null,\"expression\":null}]}}]}}","optionsType":"variableList","placeholder":"-- select --","variableList":"$utilityData$.healthInfraList","staticOptions":null,"requiredMessage":"Please search and select health infrastructure","additionalStaticOptionsRequired":"false"},"Other referral reason":{"label":"Other referral reason","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Other referral reason","fieldKey":"referral_reason","isHidden":"false","fieldName":"Other referral reason","fieldType":"SHORT_TEXT","maxLength":"100","minLength":"1","disability":"null","hasPattern":"false","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''OTHER''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.referral_for\",\"queryCode\":null,\"expression\":null}]}}","placeholder":"Other referral reason","requiredMessage":"Please enter other referral reason"},"Birth certificate number":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"birth_cert_number","fieldName":"Birth certificate number","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"5\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Birth certificate number"},"Is treatment being given":{"label":"Is treatment being given ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Is treatment being given ?","fieldKey":"is_treatment_being_given","isHidden":"false","fieldName":"Is treatment being given","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"FIELD\",\"operator\":\"NQ\",\"value1\":\"null\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.malaria_treatment_history\",\"queryCode\":null,\"expression\":null}]}}","optionsType":"staticOptions","placeholder":"treatment being given","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select is treatment being given"},"Malaria Treatment History":{"label":"Malaria Treatment History ?","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"Malaria Treatment History ?","fieldKey":"malaria_treatment_history","isHidden":"false","fieldName":"Malaria Treatment History","fieldType":"RADIO","isBoolean":"true","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$formData$.malariaDetails.having_travel_history !== null\"}]}}","optionsType":"staticOptions","placeholder":"malaria treatment history","staticOptions":"[{\"key\":\"true\",\"value\":\"Yes\"},{\"key\":\"false\",\"value\":\"No\"}]","requiredMessage":"Select treatment history"},"Last method of contraception":{"events":"null","ngModel":"$infoData$.memberDetails","fieldKey":"last_method_of_contraception","fieldName":"Last method of contraception","fieldType":"INFORMATION_DISPLAY","disability":"null","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"VARIABLE\",\"operator\":\"GTE\",\"value1\":\"9\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null},{\"type\":\"VARIABLE\",\"operator\":\"LTE\",\"value1\":\"110\",\"value2\":null,\"fieldName\":\"$utilityData$.ageInYears\",\"queryCode\":null,\"expression\":null}]}}","displayType":"text","displayValue":"Last method of contraception"},"LMP (Last Menstrual Period) date":{"label":"LMP date","events":"null","ngModel":"$formData$.malariaDetails","tooltip":"LMP date","fieldKey":"lmp_date","isHidden":"false","fieldName":"LMP (Last Menstrual Period) date","fieldType":"DATE","disability":"null","isDisabled":"false","isRequired":"true","requirable":"null","visibility":"{\"conditions\":{\"rule\":\"OR\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && ($formData.malariaDetails.rdt_test_status !== ''POSITIVE'') && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50)\"},{\"conditions\":{\"rule\":\"AND\",\"options\":[{\"type\":\"CUSTOM\",\"operator\":null,\"value1\":null,\"value2\":null,\"fieldName\":null,\"queryCode\":null,\"expression\":\"$infoData$.memberDetails.gender === ''Female'' && (!$utilityData$.potentialMalaria) && ($utilityData$.ageInYears >= 9 && $utilityData$.ageInYears <= 50)\"},{\"type\":\"FIELD\",\"operator\":\"EQ\",\"value1\":\"''POSITIVE''\",\"value2\":null,\"fieldName\":\"$formData$.malariaDetails.rdt_test_status\",\"queryCode\":null,\"expression\":null}]}}]}}","placeholder":"LMP date","maxDateField":"{\"key\":\"$today$\",\"type\":\"VARIABLE\"}","minDateField":"{\"key\":\"$utilityData$.minLmpDate\",\"type\":\"VARIABLE\"}","requiredMessage":"Select lmp date"}}}',
	'DRAFT',
	97104,
	now(),
	97104,
	now(),
	'[{"title":"$formData$","isArray":false,"nodes":[{"title":"malariaDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:3456","path":"$formData$.malariaDetails","backendConfigPath":"$formData$.malariaDetails","isArray":false}],"path":"$formData$","backendConfigPath":"$formData$","$$hashKey":"object:1087"},{"title":"$infoData$","isArray":false,"nodes":[{"title":"memberDetails","nodes":[],"indexAlias":null,"$$hashKey":"object:1150","path":"$infoData$.memberDetails","backendConfigPath":"$infoData$.memberDetails"},{"title":"userHealthInfra","nodes":[],"indexAlias":null,"$$hashKey":"object:16811","path":"$infoData$.userHealthInfra","backendConfigPath":"$infoData$.userHealthInfra"}],"path":"$infoData$","backendConfigPath":"$infoData$","$$hashKey":"object:1088"}]',
	'breakword {
    width: auto;
    white-space: inherit;
    word-wrap: break-word;
}',
	'{"formVariables":[{"value":"minServiceDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinServiceDate","setterMethodCode":"(function setMinServiceDate() {\n    $utilityData$.minServiceDate = $formData$.malariaDetails.service_date && moment($formData$.malariaDetails.service_date).isAfter(moment().subtract(9, ''months'')) ? moment($formData$.malariaDetails.service_date).add(1, ''day'') : moment().subtract(9, ''months'');\n\t\n});"},{"value":"minLmpDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinLmpDate","setterMethodCode":"(function setMinLmpDate() {\n\n$utilityData$.minLmpDate = $infoData$.memberDetails.is_pregnant ? moment().subtract(9, ''months'') : moment().subtract(35, ''days'');\n\n});"},{"value":"userHealthInfra","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setUserHealthInfra","setterMethodCode":"(function setUserHealthInfra() {\n    \n\t/**\n\t* Setter method for $utilityData$.userHealthInfra (NUMBER)\n\t* Please see example below on how to set the value\n\t* $utilityData$.userHealthInfra = xxx;\n\t* You can use the available parameters\n\t*/\n\t\n});"},{"value":"minDeathDate","type":"DATE","bindTo":"$utilityData$","setter":true,"setterMethodName":"setMinDeathDate","setterMethodCode":"(function setMinDeathDate() {\n    \n    $utilityData$.minDeathDate = $formData$.malariaDetails.service_date;\n\t\n});"},{"value":"healthInfraList","type":"ARRAY","bindTo":"$utilityData$","setter":true,"setterMethodName":"setHealthInfraList","setterMethodCode":"(function setHealthInfraList() {\n    \n\t/**\n\t* Setter method for $utilityData$.healthInfraList (ARRAY)\n\t* Please see example below on how to set the value\n\t* $utilityData$.healthInfraList = xxx;\n\t* You can use the available parameters\n\t*/\n\t\n});"},{"value":"ageInYears","type":"NUMBER","bindTo":"$utilityData$","setter":true,"setterMethodName":"setAgeInYears","setterMethodCode":"(function setAgeInYears() {\n    \n    let ageParts = $infoData$.memberDetails.age.split('' '');\n    let years = 0;\n    if (ageParts.length < 6) {\n        years = 0\n    }\n    else {\n        years = isNaN(parseInt(ageParts[0])) ? 0 : parseInt(ageParts[0]);\n    }\n    $utilityData$.ageInYears = years;\n});"},{"value":"potentialMalaria","type":"BOOLEAN","bindTo":"$utilityData$","setter":true,"setterMethodName":"setPotentialMalaria","setterMethodCode":"(function setPotentialMalaria() {\n    \n$utilityData$.potentialMalaria = $infoData$.is_pregnant || $utilityData$.ageInYears <5 || $utilityData$.ageInYears > 65;\n});"}],"formMethods":[{"value":"setSymptoms","code":"(function setSymptoms() {\n\t$formData$.malariaDetails.symptoms = $formData$.malariaDetails.symptoms.split('','').map(data => parseInt(data));\n});"}],"formQueries":[{"value":"Fetch member details","queryCode":"fetch_mem_details","params":"memberId","paramConfig":"{\"memberId\":\"$formData$.malariaDetails.member_id\"}","query":"with hof_det as (\nselect im.mobile_number \nfrom imt_member im\nwhere im.family_id = (select family_id from imt_member where id = #memberId#)\nand im.family_head\n)\nselect im.unique_health_id,\nconcat_ws('' '',im.first_name,im.middle_name,im.last_name) as member_name,\ncast(age(im.dob) as text) as age,\nim.dob,\ncase when im.gender = ''F'' then ''Female'' else ''Male'' end as gender,\t\nim.nrc_number,\n(select value from listvalue_field_value_detail where id = im.marital_status) as marital_status,\n(select value from listvalue_field_value_detail where cast(id as text) = im.religion) as religion,\ncase when im.last_method_of_contraception = ''NATURAL_METHODS'' then ''Natural methods''\nwhen im.last_method_of_contraception = ''ORALPILLS'' or im.last_method_of_contraception = ''ORAL_PILLS'' then ''Oral pills''\nwhen im.last_method_of_contraception = ''IUCD5'' then ''IUCD 5 years''\nwhen im.last_method_of_contraception = ''IUCD10'' then ''IUCD 10 years''\nwhen im.last_method_of_contraception = ''STERILIZATION'' then ''Sterilization''\nwhen im.last_method_of_contraception = ''CONDOM'' then ''Condom''\nwhen im.last_method_of_contraception = ''MLSTR'' then ''Male sterilization''\nwhen im.last_method_of_contraception = ''CONTRA'' then ''Emergency Contraceptive Pills''\nwhen im.last_method_of_contraception = ''INJECTABLES'' then ''Injectables''\nwhen im.last_method_of_contraception = ''BARRIER_METHOD'' then ''Barrier Method''\nwhen im.last_method_of_contraception = ''CHHAYA'' then ''Chhaya''\nwhen im.last_method_of_contraception = ''ANTARA'' then ''Antara''\nelse im.last_method_of_contraception end as last_method_of_contraception,\nim.lmp,\ncast(im.additional_info as json)->> ''hivTest'' as hiv_status,\nim.chronic_disease,\nim.birth_cert_number,\nim.mother_name,\nim.birth_weight,\nim.weight,\nim.is_pregnant,\nim.immunisation_given,\ncast(im.additional_info as json)->> ''developmentalDelays'' as developmental_delay,\ncast(im.additional_info as json)->> ''lastServiceLongGate'' as last_service_date,\n(select mobile_number from hof_det) as family_phone_no,\nconcat_ws('' '',imf.house_number,imf.address1, imf.address2) as family_address\nfrom imt_member im \ninner join imt_family imf on imf.family_id = im.family_id    \nwhere im.id = #memberId#;","response":"$infoData$.memberDetails","isResultArray":false,"successMessage":null,"failureMessage":"Member not found.","isResponseMandatory":true,"isField":false,"isPagination":false,"toVariable":false},{"value":"Get member malaria details","queryCode":"get_mem_malaria_det","params":"malariaID","paramConfig":"{\"malariaID\":\"$stateParams$.id\"}","query":"select \nmd.id,\nmd.member_id,\nmd.service_date,\nmd.active_malaria_symptoms as symptoms,\nmd.other_malaria_symptoms,\nmd.rdt_test_status,\nmd.is_index_case,\nmd.having_travel_history,\nmd.malaria_treatment_history,\nmd.is_treatment_being_given,\nmd.treatment_given,\nmd.started_menstruating,\nmd.lmp_date,\ncase when md.is_referral_done = ''YES'' then true \nwhen md.is_referral_done = ''NO'' then false\nelse null end as is_referral_done,\nmd.referral_place,\ncase when md.referral_for is null \nand md.referral_reason is not null\nthen ''OTHER'' else md.referral_for end as referral_for,\nmd.referral_reason,\nmd.is_iec_given\nfrom malaria_details md \nwhere md.id = #malariaID#\nand malaria_type = ''ACTIVE''\norder by modified_on desc limit 1;","response":"$formData$.malariaDetails","isResultArray":null,"successMessage":null,"failureMessage":"Screening records not found","isResponseMandatory":true,"isField":null,"isPagination":false},{"value":"Get User Health Infra","queryCode":"get_user_health_infra","params":"userID","paramConfig":"{\"userID\":\"$loggedInUserId$\"}","query":"select health_infrastrucutre_id from user_health_infrastructure where user_id = #userID# and is_default = true;","response":"$utilityData$.userHealthInfra","isResultArray":false,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":false,"isPagination":false,"toVariable":false},{"value":"Get health infra","queryCode":"get_health_infra","params":"","paramConfig":"{}","query":"select  h.name , h.id,h.type as type from health_infrastructure_details h;\n","response":"$utilityData$.healthInfraList","isResultArray":true,"successMessage":null,"failureMessage":null,"isResponseMandatory":null,"isField":true,"isPagination":false,"dropdownKey":"id","dropdownValue":"name","toVariable":true}]}',
	'[{"type":"FORM_QUERY","value":"Get member malaria details","continueIfFail":false},{"type":"FORM_QUERY","value":"Fetch member details","continueIfFail":false},{"type":"FORM_VARIABLE_SETTER","value":"minServiceDate","continueIfFail":true},{"type":"FORM_METHOD","value":"setSymptoms","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minLmpDate","continueIfFail":true},{"type":"FORM_QUERY","value":"Get User Health Infra","continueIfFail":true},{"type":"FORM_QUERY","value":"Get health infra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"userHealthInfra","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"minDeathDate","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"healthInfraList","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"ageInYears","continueIfFail":true},{"type":"FORM_VARIABLE_SETTER","value":"potentialMalaria","continueIfFail":true}]',
	'[{"queryCode":"update_active_malaria_scr_det","hasLoop":null,"queryPath":"$formData$.malariaDetails","subQueries":[],"params":[{"key":"symptoms","type":"FIELD","valueKey":"symptoms"},{"key":"rdt_test_status","type":"FIELD","valueKey":"rdt_test_status"},{"key":"having_travel_history","type":"FIELD","valueKey":"having_travel_history"},{"key":"malaria_treatment_history","type":"FIELD","valueKey":"malaria_treatment_history"},{"key":"is_treatment_being_given","type":"FIELD","valueKey":"is_treatment_being_given"},{"key":"referral_place","type":"META_DATA","valueKey":"$formData$.malariaDetails.referral_place"},{"key":"other_symptoms","type":"FIELD","valueKey":"other_symptoms"},{"key":"is_referral_done","type":"FIELD","valueKey":"is_referral_done"},{"key":"referral_for","type":"FIELD","valueKey":"referral_for"},{"key":"referral_reason","type":"FIELD","valueKey":"referral_reason"},{"key":"started_menstruating","type":"FIELD","valueKey":"started_menstruating"},{"key":"lmp_date","type":"FIELD","valueKey":"lmp_date"},{"key":"is_iec_given","type":"FIELD","valueKey":"is_iec_given"},{"key":"is_index_case","type":"FIELD","valueKey":"is_index_case"},{"key":"treatment_given","type":"FIELD","valueKey":"treatment_given"},{"key":"malaria_details_id","type":"META_DATA","valueKey":"$formData$.malariaDetails.id"}],"isEventResource":null,"$$hashKey":"object:33738","queryName":"Update active malaria details","query":"with update_data as (\nupdate malaria_details \nset active_malaria_symptoms = #symptoms#,\nrdt_test_status = #rdt_test_status#,\nhaving_travel_history = #having_travel_history#,\nmalaria_treatment_history = #malaria_treatment_history#,\nis_treatment_being_given = #is_treatment_being_given#,\nreferral_place = #referral_place#,\nmodified_by = #loggedInUserId#,\nmodified_on = now(),\nother_malaria_symptoms = #other_symptoms#,\nis_referral_done = case when #is_referral_done# is true then ''YES'' else ''NO'' end,\nreferral_for = #referral_for#,\nreferral_reason = #referral_reason#,\nstarted_menstruating = #started_menstruating#,\nlmp_date = #lmp_date#,\nis_iec_given = #is_iec_given#,\nis_index_case = #is_index_case#,\ntreatment_given = #treatment_given#\nwhere id = #malaria_details_id#\nreturning malaria_details.id\n)select id from update_data;"}]'
ON CONFLICT (form_master_uuid, "version")
DO UPDATE
SET
	form_master_uuid=EXCLUDED.form_master_uuid,
	template_config=EXCLUDED.template_config,
	field_config=EXCLUDED.field_config,
	"version"=EXCLUDED."version",
	created_by=EXCLUDED.created_by,
	created_on=EXCLUDED.created_on,
	modified_by=EXCLUDED.modified_by,
	modified_on=EXCLUDED.modified_on,
	form_object=EXCLUDED.form_object,
	template_css=EXCLUDED.template_css,
	form_vm=EXCLUDED.form_vm,
	execution_sequence=EXCLUDED.execution_sequence,
	query_config=EXCLUDED.query_config;
